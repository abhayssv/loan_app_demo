(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"0MDI":function(e,t){e.exports='<header class="section-header">\r\n    <div class="tbl">\r\n        <div class="tbl-row">\r\n            <div class="tbl-cell">\r\n                <h3>{{editView?\'Edit\':\'Add\'}} Extension Deal</h3>\r\n                <ol class="breadcrumb breadcrumb-simple">\r\n                    <li><a [routerLink]="[\'/\']">Home</a></li>\r\n                    <li><a [routerLink]="[\'/extension_deal\']">Extension Deal</a></li>\r\n                    <li class="active">{{editView?\'Edit\':\'Add\'}} Extension Deal</li>\r\n                </ol>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</header>\r\n\r\n<section class="box-typical box-typical-padding">\r\n    <form name="form" (ngSubmit)="f.form.valid && save(f.value)" #f="ngForm" novalidate>\r\n        <div class="row m-t-1">\r\n            <div class="col-sm-12">\r\n\r\n            <div class="row">\r\n                    <div class="col-md-6">\r\n                         <div class="form-group">\r\n                            <label for="level">User Type</label>\r\n                            <select class="form-control" name="user_type" [(ngModel)]="extension.user_type" #user_type="ngModel" required [disabled]="extension.id">\r\n                              <option [value]="null">Select User Type</option>\r\n                              <option *ngFor="let each of userTypes" [value]="each.value">\r\n                                 {{each.label}}\r\n                              </option>\r\n                            </select>\r\n                            <div *ngIf="f.submitted && !user_type.valid" class="help-block text-danger">User Type field is required</div>\r\n                          </div>\r\n                          <div class="form-group">\r\n                            <label for="level">Level</label>\r\n                            <select class="form-control" name="level" [(ngModel)]="extension.level" #level="ngModel" required  [disabled]="extension.id">\r\n                              <option [value]="null">Select Level</option>\r\n                              <option *ngFor="let each of levels" [value]="each.value">\r\n                                {{each.label}}\r\n                              </option>\r\n                            </select>\r\n                            <div *ngIf="f.submitted && !level.valid" class="help-block text-danger">Level is required</div>\r\n                          </div>\r\n                        <div class="form-group">\r\n                            <label for="tenure" class="required semibold form-label">Tenure</label>\r\n                            <input type="number" class="form-control" name="tenure" [(ngModel)]="extension.tenure" #tenure="ngModel" required>\r\n                            <div *ngIf="f.submitted && !tenure.valid" class="help-block text-danger">Tenure field is required</div>\r\n                        </div>\r\n                        <div class="form-group" >\r\n                            <label for="amount" class="required semibold form-label">Amount</label>\r\n                            <input type="number" class="form-control" name="amount" [(ngModel)]="extension.amount" #amount="ngModel" required>\r\n                            <div *ngIf="f.submitted && !amount.valid" class="help-block text-danger">Amount field is required</div>\r\n                         </div>\r\n               \r\n                         <div class="form-group">\r\n                            <div class="checkbox-toggle">\r\n                                <label for="active" class="semibold form-label">Active</label>\r\n                                <input type="checkbox" id="check-toggle-active" name="active" [(ngModel)]="extension.status">\r\n                                <label for="check-toggle-active"></label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="form-group" >\r\n                          <button class="btn btn-primary" style="margin-right: 10px;">Save</button>\r\n                          <a class="btn btn-primary" [routerLink]="[\'/extension_deal\']">Cancel</a>\r\n                       </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</section>'},"4qsN":function(e,t,n){"use strict";n.r(t);var r=n("mrSG"),s=n("CcnG"),i=n("Ip0R"),a=n("gIcY"),l=n("t/Na"),o=n("F/XL"),c=n("xMyE"),d=n("9Z1F"),u=n("AytR"),p=n("3AtW"),h=function(){function e(e,t){this.http=e,this.alertService=t,this.requestUrl=u.a.requestUrl+"/api/system_report",this.httpOptions={headers:new l.d({"content-Type":"application/json;charset=UTF-8"})}}return e.prototype.saveExtensionDeal=function(e){var t=this;return this.http.post(this.requestUrl+"/add_extension_deal",e,this.httpOptions).pipe(Object(c.a)((function(e){t.handleResponse(e)})),Object(d.a)(this.handleError("ExtensionDeal")))},e.prototype.allExtensionDeal=function(){var e=this;return this.http.get(this.requestUrl+"/all_extension_deal",this.httpOptions).pipe(Object(c.a)((function(t){e.handleResponse(t)})),Object(d.a)(this.handleError("ExtensionDeal")))},e.prototype.deleteExtensionDeal=function(e){var t=this;return this.http.delete(this.requestUrl+"/delete_extension_deal?id="+e,this.httpOptions).pipe(Object(c.a)((function(e){t.handleResponse(e)})),Object(d.a)(this.handleError("ExtensionDeal")))},e.prototype.updateExtensionDealStatus=function(e){var t=this;return this.http.put(this.requestUrl+"/update_status_extension_deal",e,this.httpOptions).pipe(Object(c.a)((function(e){t.handleResponse(e)})),Object(d.a)(this.handleError("ExtensionDeal")))},e.prototype.handleResponse=function(e){return e.error?this.alertService.warn("Failed: "+e.message):this.alertService.success("Success:"+e.message),e},e.prototype.handleError=function(e,t){var n=this;return void 0===e&&(e="operation"),function(r){return n.alertService.error(e+" failed: "+r.message),Object(o.a)(t)}},e.ctorParameters=function(){return[{type:l.b},{type:p.a}]},e=r.b([Object(s.C)()],e)}(),v=n("SZbH"),b=function(){function e(e,t){this.extensiondealService=e,this.toastr=t,this.extension_deals=[],this.userTypes={0:"Student",1:"Employee",2:"Business"},this.levels={0:"Silver",1:"Platinum",2:"Gold",3:"Diamond"}}return e.prototype.ngOnInit=function(){this.getAllExtensionDeals()},e.prototype.getAllExtensionDeals=function(){var e=this;this.extensiondealService.allExtensionDeal().subscribe((function(t){t.error||(e.extension_deals=t.data)}))},e.prototype.deleteExtensionDeal=function(e){var t=this;this.extensiondealService.deleteExtensionDeal(e).subscribe((function(n){if(n.error)t.toastr.error(n.message,"Failed");else{var r=t.extension_deals.findIndex((function(t){return t.id===e}));t.extension_deals.splice(r,1),t.toastr.success(n.message,"Success")}}))},e.prototype.changeStatus=function(e,t){var n=this;this.extensiondealService.updateExtensionDealStatus({id:e,status:t}).subscribe((function(r){r.error?(n.toastr.error(r.message,"Failed"),n.extension_deals.find((function(t){return t.id===e})).status=!t):n.toastr.success(r.message,"Success")}))},e.ctorParameters=function(){return[{type:h},{type:v.b}]},e=r.b([Object(s.n)({selector:"extension-deal",template:n("a6Yq"),styles:[n("zfNZ")]})],e)}(),f=function(){function e(e){this.extensionDealService=e}return e.prototype.resolve=function(){},e.ctorParameters=function(){return[{type:h}]},e=r.b([Object(s.C)()],e)}(),m=n("ZYCi"),x=function(){function e(e,t,n,r){this.router=e,this.route=t,this.extensiondealService=n,this.toastr=r,this.extension={user_type:null,level:null,tenure:"",amount:"",status:!1},this.userTypes=[{value:0,label:"Student"},{value:1,label:"Employee"},{value:2,label:"Business"}],this.levels=[{value:0,label:"Silver"},{value:1,label:"Platinum"},{value:2,label:"Gold"},{value:3,label:"Diamond"}],this.editView=!1,this.router.getCurrentNavigation().extras.state&&(this.extension=this.router.getCurrentNavigation().extras.state,this.editView=!0)}return e.prototype.ngOnInit=function(){},e.prototype.save=function(){var e=this;this.extensiondealService.saveExtensionDeal(this.extension).subscribe((function(t){t?(e.router.navigate(["/extension_deal"]),e.toastr.success(t.message,"Success")):e.toastr.error(t.message,"Failed")}))},e.ctorParameters=function(){return[{type:m.f},{type:m.a},{type:h},{type:v.b}]},e=r.b([Object(s.n)({selector:"add-extension-deal",template:n("0MDI")})],e)}(),g=[{path:"",component:b,resolve:{extension:f}},{path:"add",component:x},{path:"edit",component:x}],y=function(){function e(){}return e=r.b([Object(s.K)({imports:[m.g.forChild(g)],exports:[m.g]})],e)}();n.d(t,"ExtensionDealModule",(function(){return E}));var E=function(){function e(){}return e=r.b([Object(s.K)({imports:[i.b,a.a,y],providers:[h,f],declarations:[b,x]})],e)}()},a6Yq:function(e,t){e.exports='<header class="section-header">\r\n    <div class="tbl">\r\n        <div class="tbl-row">\r\n            <div class="tbl-cell">\r\n                <h3> Extension Deal</h3>\r\n                <ol class="breadcrumb breadcrumb-simple">\r\n                    <li><a [routerLink]="[\'/\']">Home</a></li>\r\n                    <li><a [routerLink]="[\'/extension_deal\']">Extension Deal</a></li>\r\n                    <li class="active">Extension Deal</li>\r\n                </ol>\r\n               <div class="add-button pull-right">\r\n                  <a [routerLink]="[\'/extension_deal/add/\']" class="btn btn-inline btn-primary btn-sm" title="Add">Add Extension Deal</a>\r\n               </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</header>\r\n<section class="box-typical box-typical-padding">\r\n  <table id="lisbusinessinterests" class="display table table-bordered" cellspacing="0" width="100%">\r\n    <thead>\r\n      <tr>\r\n        <th>User Type</th>\r\n        <th>Level</th>\r\n        <th>Tenure</th>\r\n        <th>Amount</th>\r\n        <th>Status</th>\r\n        <th>Action</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor="let each of extension_deals"> \r\n        <td>\r\n          {{userTypes[each.user_type]}}\r\n        </td>\r\n        <td>\r\n          {{levels[each.level]}}\r\n        </td>\r\n        <td>\r\n          {{each.tenure}}\r\n        </td>\r\n        <td>\r\n          {{each.amount}}\r\n        </td>\r\n        <td>\r\n        <div class="checkbox-toggle">\r\n            <input type="checkbox" [id]="\'check-toggle-active-\'+each.id" name="active" [(ngModel)]="each.status" (change)="changeStatus(each.id, each.status)">\r\n            <label [for]="\'check-toggle-active-\'+each.id"></label>\r\n        </div>\r\n        </td>\r\n        <td class="text-center">\r\n           <a  class="btn btn-inline btn-primary btn-sm" title="Edit text" [routerLink]="[\'/extension_deal/edit\']" [state]="each">\r\n            <i class="fa fa-pencil"></i>\r\n           </a>\r\n           <span class="btn btn-inline btn-danger btn-sm" title="Delete" (click)="deleteExtensionDeal(each.id)">\r\n            <i class="fa fa-trash"></i>\r\n          </span>\r\n        </td>\r\n      </tr>\r\n      <tr *ngIf="!extension_deals.length">\r\n        <td colspan="4">No Data Found</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</section>'},zfNZ:function(e,t){e.exports=""}}]);
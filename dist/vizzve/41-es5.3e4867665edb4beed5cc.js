(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"8V1x":function(e,t,r){"use strict";r.r(t);var n=r("mrSG"),i=r("CcnG"),s=r("Ip0R"),o=r("gIcY"),a=r("ZYCi"),p=r("t/Na"),c=r("F/XL"),h=r("xMyE"),l=r("9Z1F"),u=r("AytR"),d=r("3AtW"),v=function(){function e(e,t){this.http=e,this.alertService=t,this.requestUrl=u.a.requestUrl+"/api/apply_loan",this.httpOptions={headers:new p.d({"content-Type":"application/json;charset=UTF-8"})}}return e.prototype.getApproverAchivements=function(){var e=this;return this.http.get(u.a.requestUrl+"/apis/system_report/achivement/get_approver_achivement/").pipe(Object(h.a)((function(t){e.handleResponse(t)})),Object(l.a)(this.handleError("ApproverAchivement")))},e.prototype.getUsers=function(e){var t=this;return this.http.get(u.a.requestUrl+"/api/system_report/collection/get_users/"+e,this.httpOptions).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("User")))},e.prototype.getApproverAchivement=function(e){var t=this,r=e.from_date,n=e.to_date,i=e.collection_team,s=e.assigned_users;return this.http.get(u.a.requestUrl+"/apis/system_report/achivement/get_search_approver_achivement?from_date="+r+"&to_date="+n+"&assigned_users="+s+"&collection_team="+i).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("ApproverAchivement")))},e.prototype.exportSheet=function(e){var t=this;return this.http.post(u.a.requestUrl+"/api/system_report/reviewer/export_reviewer_sheet",e,this.httpOptions).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("ApproverAchivement")))},e.prototype.getApproverAchivementView=function(e){var t=this;return this.http.get(u.a.requestUrl+"/api/user/"+e,this.httpOptions).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("ApproverAchivement")))},e.prototype.getContactDetails=function(e){var t=this;return this.http.get(u.a.requestUrl+"/apis/contact/"+e,this.httpOptions).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("User")))},e.prototype.getApplyLoanDetails=function(e,t){var r=this;return this.http.get(this.requestUrl+"/"+e+"/"+t,this.httpOptions).pipe(Object(h.a)((function(e){r.handleResponse(e)})),Object(l.a)(this.handleError("ApproverAchivement")))},e.prototype.changeStatus=function(e,t,r,n){var i=this;return this.http.post(this.requestUrl+"/status",{status:e,apply_loan_id:t,key:r,email:n},this.httpOptions).pipe(Object(h.a)((function(e){i.handleResponse(e)})),Object(l.a)(this.handleError("ApproverAchivement")))},e.prototype.deleteApproverAchivement=function(e){var t=this;return this.http.post(this.requestUrl+"/delete",{user_id:e},this.httpOptions).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("ApproverAchivement")))},e.prototype.getBasicInfo=function(e){var t=this;return this.http.get(u.a.requestUrl+"/api/admin/profile/basic_info/"+e,this.httpOptions).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("ApproverAchivement")))},e.prototype.getRefInfo=function(e){var t=this;return this.http.get(u.a.requestUrl+"/api/admin/profile/ref/"+e,this.httpOptions).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("User")))},e.prototype.getEmpInfo=function(e){var t=this;return this.http.get(u.a.requestUrl+"/api/admin/profile/emp_info/"+e,this.httpOptions).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("ApproverAchivement")))},e.prototype.getBankInfo=function(e){var t=this;return this.http.get(u.a.requestUrl+"/api/admin/profile/bank/"+e,this.httpOptions).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("ApproverAchivement")))},e.prototype.getKycInfo=function(e){var t=this;return this.http.get(u.a.requestUrl+"/api/admin/profile/kyc/"+e,this.httpOptions).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("ApproverAchivement")))},e.prototype.getBusinessDetails=function(e){var t=this;return this.http.get(u.a.requestUrl+"/api/admin/profile/business/"+e,this.httpOptions).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("User")))},e.prototype.getCollegeDetails=function(e){var t=this;return this.http.get(u.a.requestUrl+"/api/admin/profile/college/"+e,this.httpOptions).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("User")))},e.prototype.getStatus=function(){var e=this;return this.http.get(u.a.requestUrl+"/api/apply_loan/status",this.httpOptions).pipe(Object(h.a)((function(t){e.handleResponse(t)})),Object(l.a)(this.handleError("User")))},e.prototype.getStatusByRole=function(e){var t=this;return this.http.get(u.a.requestUrl+"/api/system_report/reviewer/get_status/"+e,this.httpOptions).pipe(Object(h.a)((function(e){t.handleResponse(e)})),Object(l.a)(this.handleError("User")))},e.prototype.handleResponse=function(e){return e.error?this.alertService.warn("Failed: "+e.message):this.alertService.success("Success:"+e.message),e},e.prototype.handleError=function(e,t){var r=this;return void 0===e&&(e="operation"),function(n){return r.alertService.error(e+" failed: "+n.message),Object(c.a)(t)}},e.ctorParameters=function(){return[{type:p.b},{type:d.a}]},e=n.b([Object(i.C)()],e)}(),m=r("SZbH"),f=r("ZYjt"),b=r("QAmw"),g=function(){function e(e,t,r,n,i){this.route=e,this.router=t,this.approverachivementService=r,this.toastr=n,this.titleService=i,this.searchapproverachivement={from_date:"",to_date:"",assigned_users:"",collection_team:""},this.exporting=!1,this.isExport=!1,this.titleService.setTitle("List Approver Achivement")}return e.prototype.ngOnInit=function(){var e=this;this.approverachivementService.getApproverAchivements().subscribe((function(t){t&&(e.approverachivement=t.data)})),$((function(){$("#lisapproverachivement").DataTable({responsive:!0,order:[]})}))},e.prototype.reset=function(){var e=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.router.onSameUrlNavigation="reload",this.router.navigate([e])},e.prototype.onChangeCollection=function(e){var t=this;e?this.approverachivementService.getUsers(e).subscribe((function(e){t.users=e.data})):this.users=null},e.prototype.search=function(e){var t=this;this.approverachivementService.getApproverAchivement(e).subscribe((function(e){e.data&&e.data.length?t.approverachivement=e.data:(t.toastr.error("Record not found.","Error"),t.approverachivement=[])}))},e.prototype.getAllDataToExport=function(){var e=this;this.exporting=!0,this.approverachivementService.getApproverAchivements().subscribe((function(t){t.data&&t.data.length?(e.exportData=t.data,e.downloadExportedData()):e.toastr.error("Record not found.","Error"),e.exporting=!1}))},e.prototype.fieldReset=function(){this.searchapproverachivement={from_date:"",to_date:"",assigned_users:"",collection_team:""}},e.prototype.downloadExportedData=function(){var e=[];this.exportData.forEach((function(t){var r=t.appUser||{};e.push({loan_id:t.loan_id,username:r.username||"",mobile_no:r.mobile_no||"",email:r.email||"",user_type:r.user_type?0==r.user_type?"student":"employee":"",required_amount:t.required_amount,disbursed_amount:t.disbursed_amount,remaining_amount:t.remaining_amount,payable_date:t.payable_date,status:t.loanStatus.status,reviewer_1:null!=t.appUserReviewer_1?t.appUserReviewer_1.firstname+t.appUserReviewer_1.lastname:"Not Assigned",reviewer_2:null!=t.appUserReviewer_2?t.appUserReviewer_2.firstname+t.appUserReviewer_2.lastname:"Not Assigned"})}));var t=e;new b.ngxCsv(t,"Reviewer Sheet",{fieldSeparator:",",quoteStrings:'"',decimalseparator:".",showLabels:!0,showTitle:!0,title:"Reviewer Sheet",useBom:!0,headers:["Loan Id","Customer Name","Mobile Number","Email","User Type","Required Amount","disbursed_amount","remaining_amount","payable_date","Status","reviewer_1","reviewer_2"]}),this.toastr.success("Successfully Exported.")},e.prototype.exportSheet=function(){this.isSearching?(this.isExport=!0,this.exporting=!0):this.getAllDataToExport()},e.ctorParameters=function(){return[{type:a.a},{type:a.f},{type:v},{type:m.b},{type:f.c}]},e=n.b([Object(i.n)({selector:"list-reviewer-report",template:r("dQAQ")})],e)}(),_=function(){function e(e){this.approverachivementService=e}return e.prototype.resolve=function(){},e.ctorParameters=function(){return[{type:v}]},e=n.b([Object(i.C)()],e)}(),y=[{path:"",component:g,resolve:{approverachivements:_}}],O=function(){function e(){}return e=n.b([Object(i.K)({imports:[a.g.forChild(y)],exports:[a.g]})],e)}(),A=r("xkgV");r.d(t,"ApproverAchivementModule",(function(){return R}));var R=function(){function e(){}return e=n.b([Object(i.K)({imports:[s.b,o.a,O,A.a],providers:[v,_],declarations:[g]})],e)}()},dQAQ:function(e,t){e.exports='<header class="section-header">\r\n  <div class="tbl">\r\n    <div class="tbl-row">\r\n      <div class="tbl-cell">\r\n        <h3>Approver Achievement Report</h3>\r\n        <ol class="breadcrumb breadcrumb-simple">\r\n          <li><a [routerLink]="[\'/\']">Home</a></li>\r\n          <li class="active">Approver Achievement Report</li>\r\n        </ol> \r\n      </div>\r\n    </div>\r\n  </div>\r\n</header>\r\n<section class="box-typical box-typical-padding">\r\n  <h5>Search & Filter</h5>\r\n  <form name="form" (ngSubmit)="search(f.value)" #f="ngForm" novalidate>\r\n    <div class="row">\r\n      <div class="col-md-3">\r\n        <label for="from_date">From Date</label>\r\n        <input type="date" class="form-control" #loanId name="from_date" [(ngModel)]="searchapproverachivement.from_date" #from_date="ngModel">\r\n      </div> \r\n      <div class="col-md-3">\r\n        <label for="to_date">To Date</label>\r\n        <input type="date" class="form-control" name="to_date" [(ngModel)]="searchapproverachivement.to_date" #to_date="ngModel">\r\n      </div>\r\n      <div class="col-md-3">\r\n        <label for="user_type">Collection Team</label> \r\n        <select class="form-control" class="form-control" name="collection_team" [(ngModel)]="searchapproverachivement.collection_team" #collection_team="ngModel" required (change)="onChangeCollection($event.target.value)">\r\n          <option disabled>Select-Team</option>\r\n          <option value="4">First Reviewer</option>\r\n          <option value="5">Second Reviewer</option> \r\n        </select>\r\n      </div>  \r\n      <div class="col-md-3">\r\n        <label for="assigned_users">Assigned Users</label> \r\n        <select class="form-control" name="assigned_users" [(ngModel)]="searchapproverachivement.assigned_users" #assigned_users="ngModel" required>\r\n          <option disabled>select-users</option>\r\n          <option *ngFor="let user of users" [value]="user.id">{{user.firstname}} {{user.lastname}}</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <div class="row m-t-1">\r\n      <div class="col-md-2 search-button">\r\n        <button class="btn btn-primary" (click) = search()><i class="fa fa-search"></i> Search</button>\r\n      </div> \r\n      <div class="col-md-2 search-button">\r\n        <span (click)="reset()" class="btn btn-warning" title="Reset Filter">Reset Filter</span> \r\n      </div>\r\n      \x3c!-- <div class="col-md-7 export-button">\r\n        <span (click)="exportSheet()" class="btn btn-success {{exporting ? \'is-disabled blink\' : \'\'}} {{isLoading? \'is-disabled\':\'\'}}" title="Export Report"><i class="fa fa-file-excel-o" aria-hidden="true"></i>{{!exporting ? \'Export Sheet\': \'Please Wait...\'}}</span> \r\n      </div> --\x3e\r\n    </div>\r\n  </form>\r\n</section>\r\n\x3c!-- Main Content --\x3e\r\n<section class="box-typical box-typical-padding">\r\n  <table class="display table table-bordered" cellspacing="0" width="100%">\r\n    <thead>\r\n      <tr> \r\n        <th>User Name</th>\r\n        <th>User Role</th>\r\n        <th>Email</th>\r\n        <th>Mobile No</th>  \r\n        <th>Assign Loan</th> \r\n        <th>Approved/Disbursed Loan</th>\r\n        <th>Rejected Loan</th>\r\n        <th>User Status</th>  \r\n      </tr>\r\n    </thead>\r\n    <tbody *ngFor="let achivements of approverachivement" [attr.id]="achivements.id">\r\n      <tr> \r\n        <td>\r\n          {{ achivements.username }}\r\n        </td>\r\n        <td>\r\n          {{ achivements.user_role }}\r\n        </td>\r\n        <td>\r\n          {{ achivements.email }}\r\n        </td> \r\n        <td>\r\n          {{ achivements.mobile_no }}\r\n        </td> \r\n        <td>\r\n          {{ achivements.assing_loan }}\r\n        </td>\r\n        <td>\r\n          {{ achivements.approved_loan }}\r\n        </td>\r\n        <td>\r\n          {{ achivements.rejected_loan }}\r\n        </td> \r\n        <td>\r\n          {{ achivements.user_status }}\r\n        </td> \r\n      </tr> \r\n    </tbody>\r\n  </table> \r\n</section>'}}]);
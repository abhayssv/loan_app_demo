(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{D10U:function(a,n,e){"use strict";e.r(n);var t=e("mrSG"),l=e("CcnG"),r=e("Ip0R"),s=e("gIcY"),i=e("ZYCi"),o=e("t/Na"),d=e("F/XL"),c=e("xMyE"),m=e("9Z1F"),f=e("AytR"),u=e("3AtW"),p=function(){function a(a,n){this.http=a,this.alertService=n,this.requestUrl=f.a.requestUrl+"/api/apply_loan",this.httpOptions={headers:new o.d({"content-Type":"application/json;charset=UTF-8"})}}return a.prototype.getCashFlattings=function(){var a=this;return this.http.get(this.requestUrl+"/flat").pipe(Object(c.a)((function(n){a.handleResponse(n)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.employeeFlat=function(a){var n=this,e={tx_time:a.date,order_amount:a.value||0,penality:a.penality||0,loan_id:a.loan_id};return this.http.post(f.a.requestUrl+"/apis/payment/empl_installment_flat",e).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.searchLoan=function(a){var n=this,e=a.loan_id,t=a.email,l=a.mobile_no,r=a.name,s=a.id_number;return this.http.get(this.requestUrl+"/search_flat?loan_id="+e+"&email="+t+"&mobile_no="+l+"&name="+r+"&id_number="+s).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.getCashFlattingView=function(a){var n=this;return this.http.get(f.a.requestUrl+"/api/user/"+a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.getDetailByLoanId=function(a){var n=this;return this.http.get(f.a.requestUrl+"/apis/user/get_detail_by_loan_id/"+a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.getTransactionsByLoanId=function(a){var n=this;return this.http.post(f.a.requestUrl+"/api/assign_loan/get_transactions_by_loan_id",{loanId:a}).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.getEmployTransactions=function(a){var n=this;return this.http.post(f.a.requestUrl+"/apis/apply_loan/get_transactions/by_loan_id",{loanId:a}).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.saveBusinessCredit=function(){var a=this;return this.http.post(f.a.requestUrl+"/apis/credit/save_business_credit",{level:0},this.httpOptions).pipe(Object(c.a)((function(n){a.handleResponse(n)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.saveFlatBusiness=function(a){var n=this;return this.http.post(f.a.requestUrl+"/api/payment/flat_installment_flat",a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.getLoanHistory=function(a){var n=this;return this.http.get(f.a.requestUrl+"/api/apply_loan/customer/loan_history/"+a).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("User")))},a.prototype.getContactDetails=function(a){var n=this;return this.http.get(f.a.requestUrl+"/apis/contact/"+a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("User")))},a.prototype.getApplyLoanDetails=function(a,n){var e=this;return this.http.get(this.requestUrl+"/"+a+"/"+n,this.httpOptions).pipe(Object(c.a)((function(a){e.handleResponse(a)})),Object(m.a)(this.handleError("Firstreview")))},a.prototype.getUsers=function(){var a=this;return this.http.get(f.a.requestUrl+"/admin/user/all").pipe(Object(c.a)((function(n){a.handleResponse(n)})),Object(m.a)(this.handleError("User")))},a.prototype.saveFlat=function(a){var n=this;return this.http.post(f.a.requestUrl+"/api/payment/flat_save",a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.saveExtend=function(a){var n=this;return this.http.post(f.a.requestUrl+"/api/payment/extend_save",a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.createRepaymentLink=function(a){var n=this;return this.http.post(f.a.requestUrl+"/apis/payment/generate_payment_links",a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("RepaymentDetail")))},a.prototype.saveCustomExtend=function(a){var n=this;return this.http.post(f.a.requestUrl+"/api/payment/custom_extend_save",a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.deleteCashFlatting=function(a){var n=this;return this.http.post(this.requestUrl+"/delete",{user_id:a},this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.getBasicInfo=function(a){var n=this;return this.http.get(f.a.requestUrl+"/api/admin/profile/basic_info/"+a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.getRefInfo=function(a){var n=this;return this.http.get(f.a.requestUrl+"/api/admin/profile/ref/"+a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("User")))},a.prototype.getEmpInfo=function(a){var n=this;return this.http.get(f.a.requestUrl+"/api/admin/profile/emp_info/"+a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.getBankInfo=function(a){var n=this;return this.http.get(f.a.requestUrl+"/api/admin/profile/bank/"+a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.getKycInfo=function(a){var n=this;return this.http.get(f.a.requestUrl+"/api/admin/profile/kyc/"+a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("CashFlatting")))},a.prototype.getBusinessDetails=function(a){var n=this;return this.http.get(f.a.requestUrl+"/api/admin/profile/business/"+a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("User")))},a.prototype.getCollegeDetails=function(a){var n=this;return this.http.get(f.a.requestUrl+"/api/admin/profile/college/"+a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("User")))},a.prototype.getStatus=function(){var a=this;return this.http.get(f.a.requestUrl+"/api/apply_loan/status",this.httpOptions).pipe(Object(c.a)((function(n){a.handleResponse(n)})),Object(m.a)(this.handleError("User")))},a.prototype.getAppListDetails=function(a){var n=this;return this.http.get(f.a.requestUrl+"/api/admin/profile/app_list/get_details/"+a,this.httpOptions).pipe(Object(c.a)((function(a){n.handleResponse(a)})),Object(m.a)(this.handleError("User")))},a.prototype.handleResponse=function(a){return a.error?this.alertService.warn("Failed: "+a.message):this.alertService.success("Success:"+a.message),a},a.prototype.handleError=function(a,n){var e=this;return void 0===a&&(a="operation"),function(t){return e.alertService.error(a+" failed: "+t.message),Object(d.a)(n)}},a.ctorParameters=function(){return[{type:o.b},{type:u.a}]},a=t.b([Object(l.C)()],a)}(),b=e("SZbH"),h=e("4GxJ"),g=e("ZYjt"),v=e("wd/R"),y=(e("0tRk"),e("Phjn")),_=function(){function a(a,n,e,t,l,r){this.route=a,this.router=n,this.cashflattingService=e,this.toastr=t,this.modalService=l,this.titleService=r,this.searchcashflatting={loan_id:"",name:"",mobile_no:"",email:"",id_number:""},this.loanDetails={loan_id:"",username:"",total_payable_amount:""},this.transactionDetails=[],this.isShowTransaction=!1,this.submitted=!1,this.loading=!1,this.amtToPay=0,this.selectedTrans=[],this.total_amount_check=!1,this.total_pen_check=!1,this.keyDescOrder=function(a,n){return a.id>n.id?1:-1},this.isShown=!1,this.isShow=!1,this.titleService.setTitle("List Cash Flating")}return a.prototype.calculateDiff=function(a){var n=new Date(a),e=new Date,t=v();return this.firstDate=v(a,"YYYY-MM-DD"),this.secondDate=v(t).format("YYYY-MM-DD"),this.diffInDays=Math.abs(this.firstDate.diff(this.secondDate,"days")),n>=e?0:this.diffInDays},a.prototype.flatPop=function(a,n){this.modalService.open(a,{backdropClass:"dark-modal",centered:!0})},a.prototype.flatEmiPop=function(a,n){var e=this;this.loading=!0,this.amtToPay=0,this.selectedTrans=[],this.modalService.open(a,{backdropClass:"dark-modal",centered:!0}),this.cashflattingService.getEmployTransactions(n).subscribe((function(a){a.error||(e.cashflattings.filter((function(a){return a.loan_id==n}))[0].emi=a.data),e.loading=!1}))},a.prototype.paymentSelection=function(a){if(console.log(a),a.checked)this.amtToPay=Number(this.amtToPay.toFixed(2))+Number((a.value+a.penality).toFixed(2)),this.selectedTrans.push(a);else if(this.selectedTrans.filter((function(n){return n.key===a.key})).length){this.amtToPay=Number(this.amtToPay.toFixed(2))-Number((a.value+a.penality).toFixed(2));var n=this.selectedTrans.indexOf((function(n){return n.key===a.key}));this.selectedTrans.splice(n,1)}},a.prototype.checkOutStansingSlected=function(){console.log(this.selectedTrans);var a=this.selectedTrans.filter((function(a){return"installment"===a.type})).length?"inst":"";return a||(a=this.selectedTrans.filter((function(a){return"total"===a.type})).length?"total":""),console.log(a),a},a.prototype.submitEmiTrans=function(){var a=this,n=this.selectedTrans.filter((function(a){return!0===a.checked}));d.a.apply(void 0,t.g(n)).pipe(Object(y.a)((function(n){return a.cashflattingService.employeeFlat(n)}))).subscribe((function(n){n.error||(a.toastr.success(n.message),window.location.reload())}))},a.prototype.extend=function(a,n){this.modalService.open(a,{backdropClass:"dark-modal",centered:!0})},a.prototype.customExtend=function(a,n){this.modalService.open(a,{backdropClass:"dark-modal",centered:!0})},a.prototype.payoutLinkGenerate=function(a,n){this.modalService.open(a,{backdropClass:"dark-modal",centered:!0})},a.prototype.ngOnInit=function(){var a=this,n=this.route.snapshot.data.cashflattings;n&&(console.log("ResPonsE",n),this.cashflattings=n.data,this.cashflattingsCopy=n.data),this.cashflattingService.getStatus().subscribe((function(n){n&&(a.status=n.data)})),$(document).ready((function(){$("#listcashflattings").dataTable({scrollX:!0,order:[]})}))},a.prototype.reset=function(){var a=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.router.onSameUrlNavigation="reload",this.router.navigate([a])},a.prototype.refresh=function(){var a=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.router.onSameUrlNavigation="reload",this.router.navigate([a])},a.prototype.searchFlat=function(a){var n=this;this.cashflattingService.searchLoan(a).subscribe((function(a){void 0===a&&n.toastr.error("Record not found.","Error"),a&&(n.cashflattings=a.data)}),(function(a){console.log(a)}))},a.prototype.saveflat=function(a){var n=this;this.submitted=!0,this.cashflattingService.saveFlat(a).subscribe((function(a){a&&(n.toastr.success(a.message,"Success"),setInterval((function(){window.location.reload()}),3e3),setInterval((function(){n.submitted=!1}),4e3))}),(function(a){console.log(a),n.submitted=!1}))},a.prototype.saveExtend=function(a){var n=this;this.submitted=!0,this.cashflattingService.saveExtend(a).subscribe((function(a){a&&(n.toastr.success(a.message,"Success"),setInterval((function(){window.location.reload()}),3e3),setInterval((function(){n.submitted=!1}),4e3))}),(function(a){console.log(a),n.submitted=!1}))},a.prototype.toggleShow=function(){this.isShown=!this.isShown},a.prototype.saveCustomExtend=function(a){var n=this;this.submitted=!0,this.cashflattingService.saveCustomExtend(a).subscribe((function(a){a&&(n.toastr.success(a.message,"Success"),setInterval((function(){window.location.reload()}),3e3),setInterval((function(){n.submitted=!1}),4e3))}),(function(a){console.log(a),n.submitted=!1}))},a.prototype.toggleDisplay=function(){this.isShow=!this.isShow},a.prototype.getLoanDetail=function(a){var n=this;6==a.length?(console.log("value",a),this.errorVal="",this.cashflattingService.getDetailByLoanId(a).subscribe((function(a){a?(n.loanDetail=a.loanDetails,console.log("Loan Details",n.loanDetail)):n.errorVal="Invalid Loan Id"}),(function(a){console.log(a)}))):(this.loanDetail="",this.errorVal="Please enter valid Loan Id")},a.prototype.getPaymentLink=function(a){var n=this,e={loan_id:a.loan_id,customer_name:this.loanDetail.appUser.username,amount:a.total_payable_amount,mobile_no:this.loanDetail.appUser.mobile_no,email:this.loanDetail.appUser.email};this.cashflattingService.createRepaymentLink(e).subscribe((function(a){n.repaymentLink=a.data.link_url,n.copyLink(n.repaymentLink)}))},a.prototype.copyLink=function(a){var n=document.createElement("textarea");n.value=a,document.body.appendChild(n),n.focus(),n.select(),document.execCommand("copy"),document.body.removeChild(n),this.toastr.success("Link Copied Successfully","Success"),setInterval((function(){window.location.reload()}),3e3)},a.prototype.filatPop=function(a,n){this.getTransactionsByLoanId(n),this.modalService.open(a,{backdropClass:"dark-modal",centered:!0})},a.prototype.changeEvent=function(a,n){this.transactionDetails.forEach((function(e,t){e.isSelected=t===a&&n})),this.calculatePayAmount()},a.prototype.calculatePayAmount=function(){var a=this.transactionDetails.filter((function(a){return!0===a.isSelected}));if(this.payAmount=0,a.length){var n=Number(a.reduce((function(a,n){return a+n.amount}),0)),e=a[0].penaltyAmountAfterPaymentDate||0;this.payAmount=Number((n+Number(e)).toFixed(2))}},a.prototype.getTransactionsByLoanId=function(a){var n=this;this.isShowTransaction=!1,this.cashflattingService.getTransactionsByLoanId(a.loan_id).subscribe((function(e){if(e&&(n.transactionDetails=Object.keys(e.data).map((function(a){return e.data[a]})).sort((function(a,n){return a.forDay>n.forDay?-1:1})),n.transactionDetails.length))if(n.transactionDetails[0].paid){v(a.payable_date).endOf("day").unix(),v().unix();n.payAmount=Number(a.remaining_amount.toFixed(2))}else{var t=n.transactionDetails[0].penaltyAmountAfterPaymentDate||0;n.payAmount=Number(Number(n.transactionDetails[0].amount+t).toFixed(2)),n.transactionDetails[0].isSelected=!0}}))},a.prototype.saveiflat=function(a,n){this.doFlatSaveBusiness(a,n)},a.prototype.doFlatSaveBusiness=function(a,n){var e=this,t=v().format("YYYY-MM-DD"),l=this.transactionDetails.filter((function(a){return!0===a.isSelected}));l.length&&(t=v(this.transactionDetails.filter((function(a){return!0===a.isSelected}))[0].forDate).format("YYYY-MM-DD"));var r=n.remaining_amount,s=(a.order_amount,l.length&&l[0].penalityOnEMI||0),i=l.length&&l[0].penaltyAmountAfterPaymentDate||0,o=Number((Number(i)+Number(s)).toFixed(2)),d=a.order_amount-o,c={loan_id:a.loan_id,order_amount:d,penality:o,tx_time:t};r-d==0&&this.getCredit(),this.cashflattingService.saveFlatBusiness(c).subscribe((function(a){a&&(e.toastr.success(a.message,"Success"),setInterval((function(){window.location.reload()}),3e3))}),(function(a){console.log(a)}))},a.prototype.getCredit=function(){var a=this;this.cashflattingService.saveBusinessCredit().subscribe((function(n){n&&a.toastr.success(n.message,"Success")}),(function(a){console.log(a)}))},a.ctorParameters=function(){return[{type:i.a},{type:i.f},{type:p},{type:b.b},{type:h.a},{type:g.c}]},a=t.b([Object(l.n)({selector:"list-cash-flatting",template:e("ujPh"),styles:[e("Ru5Z")]})],a)}(),I=e("9lVT"),x=function(){function a(a,n,e,t){this.route=a,this.cashflattingService=n,this.permissionService=e,this.titleService=t,this.selected_loan_id=null,this.titleService.setTitle("View Cash Flatting")}return a.prototype.ngOnInit=function(){var a=this,n=this.route.snapshot.paramMap.get("user_id"),e=this.route.snapshot.url[1].path;this.cashflattingService.getCashFlattingView(n).subscribe((function(n){n&&(a.cashflattings=n.data)})),this.permissionService.checkPermission().subscribe((function(n){n&&(a.per_missions=n.user)})),this.cashflattingService.getBasicInfo(n).subscribe((function(n){n&&(a.basic=n.data)})),this.cashflattingService.getRefInfo(n).subscribe((function(n){n&&(a.refInfo=n.data)})),this.cashflattingService.getEmpInfo(n).subscribe((function(n){n&&(a.empInfo=n.data[0])})),this.cashflattingService.getBankInfo(n).subscribe((function(n){n&&(a.bankInfo=n.data)})),this.cashflattingService.getKycInfo(n).subscribe((function(n){n&&(a.kycInfo=n.data[0],a.regMobNo=a.kycInfo.reg_mob_no)})),this.cashflattingService.getLoanHistory(n).subscribe((function(n){n&&(a.loanHistory=[].concat(n.data))})),this.cashflattingService.getCollegeDetails(n).subscribe((function(n){n&&(a.collegeDetail=n.data[0])})),this.cashflattingService.getBusinessDetails(n).subscribe((function(n){n&&(a.businessDetail=n.data[0])})),this.cashflattingService.getApplyLoanDetails(e,n).subscribe((function(n){n&&(a.cashflatting=n.data,a.loanStatus=n.status,a.countUserLoan=n.countUserLoan.count,a.loanApplyCount=1==a.countUserLoan?"Fresh":"Re-Apply")})),this.cashflattingService.getContactDetails(n).subscribe((function(n){n&&(a.contactDetail=n.data)})),this.cashflattingService.getUsers().subscribe((function(n){n&&(a.users=n.data)})),this.cashflattingService.getAppListDetails(n).subscribe((function(n){n&&(a.appListDetails=n.data)}))},a.prototype.viewAdhaarNo=function(){this.adharContact="Null"},a.prototype.calculateDiff=function(a){var n=new Date(a),e=new Date,t=v(),l=v(a,"YYYY-MM-DD"),r=v(t).format("YYYY-MM-DD"),s=Math.abs(l.diff(r,"days"));return n>=e?0:s},a.ctorParameters=function(){return[{type:i.a},{type:p},{type:I.a},{type:g.c}]},a=t.b([Object(l.n)({selector:"view-second-review",template:e("RfaC")})],a)}(),D=function(){function a(a){this.cashflattingService=a}return a.prototype.resolve=function(){return this.cashflattingService.getCashFlattings()},a.ctorParameters=function(){return[{type:p}]},a=t.b([Object(l.C)()],a)}(),k=function(){function a(a){this.cashflattingService=a}return a.prototype.resolve=function(a){},a.ctorParameters=function(){return[{type:p}]},a=t.b([Object(l.C)()],a)}(),w=[{path:"",component:_,resolve:{cashflattings:D}},{path:"view/:loan_id/:user_id",component:x,resolve:{cashflatting:k}}],q=function(){function a(){}return a=t.b([Object(l.K)({imports:[i.g.forChild(w)],exports:[i.g]})],a)}(),S=e("lT3r");e.d(n,"CashFlattingModule",(function(){return C}));var C=function(){function a(){}return a=t.b([Object(l.K)({imports:[r.b,s.a,q,S.a],providers:[p,D,k],declarations:[_,x]})],a)}()},RfaC:function(a,n){a.exports='<header class="section-header">\r\n  <div class="tbl">\r\n    <div class="tbl-row">\r\n      <div class="tbl-cell">\r\n        <h3>User Details</h3>\r\n        <ol class="breadcrumb breadcrumb-simple">\r\n          <li><a [routerLink]="[\'/overall_customer_loan\']">Overall Customer Applied</a></li>\r\n          <li class="active">User Details</li>\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</header>\r\n\x3c!-- Loan Details --\x3e\r\n<section class="box-typical box-typical-padding">\r\n  <h5>Loan Details | {{loanApplyCount}} ({{countUserLoan}})</h5>\r\n  <div class="row">\r\n    <div class="col-lg-12" *ngIf=" cashflatting"> \r\n      <ul class="list-group list-group-horizontal">\r\n        <li class="col-lg-2 font-weight-bold list-group-item">Loan ID:</li>\r\n        <li class="col-lg-2 list-group-item">{{ cashflatting.loan_id }}</li>\r\n        <li class="col-lg-2 p-2 font-weight-bold list-group-item">Required Amount: </li>\r\n        <li class="col-lg-2 list-group-item">{{ cashflatting.required_amount | currency:\'INR\':\'symbol-narrow\' }}</li>\r\n        <li class="col-lg-2 font-weight-bold list-group-item">Days:</li>\r\n        <li class="col-lg-2 list-group-item">{{ cashflatting.days }}</li>\r\n      </ul>\r\n      <ul class="list-group list-group-horizontal">\r\n        <li class="col-lg-2 p-2 font-weight-bold list-group-item">Disbursed Amount:</li>\r\n        <li class="col-lg-2 list-group-item">{{ cashflatting.disbursed_amount | currency:\'INR\': \'symbol-narrow\'}}</li>\r\n        <li class="col-lg-2 font-weight-bold list-group-item">Applied Date: </li>\r\n        <li class="col-lg-2 list-group-item">{{ cashflatting.apply_date | date}}</li>\r\n        <li class="col-lg-2 font-weight-bold list-group-item">Loan Status: </li>\r\n        <li class="col-lg-2 list-group-item">\r\n          <div *ngFor="let stat_us of loanStatus">\r\n            <div *ngIf="stat_us.status_id== cashflatting.status">\r\n              {{ stat_us.status }}\r\n            </div>\r\n          </div> \r\n        </li>\r\n      </ul>\r\n      <ul class="list-group list-group-horizontal">\r\n        <li class="col-lg-2 p-2 font-weight-bold list-group-item">Use Coins:</li>\r\n        <li class="col-lg-2 list-group-item">{{ cashflatting.redeem_coins }}</li>\r\n        <li class="col-lg-2 font-weight-bold list-group-item">Payable Date: </li>\r\n        <li class="col-lg-2 list-group-item">{{ cashflatting.payable_date | date}}</li>\r\n        <li class="col-lg-2 font-weight-bold list-group-item">Payable Amount: </li>\r\n        <li class="col-lg-2 list-group-item">{{ cashflatting.total_payable_amount | currency:\'INR\': \'symbol-narrow\' }}</li>\r\n      </ul>\r\n       <ul class="list-group list-group-horizontal" *ngIf="{ amount: calculateDiff(cashflatting.payable_date) > 0 ? cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.006  : 0 } as penality">\r\n        <li class="col-lg-2 font-weight-bold list-group-item ">Overdue Days:</li>\r\n        <li class="col-lg-2 list-group-item">{{ penality.amount >0 ? calculateDiff(cashflatting.payable_date) \r\n        : 0 }}</li>\r\n        <li class="col-lg-2 font-weight-bold list-group-item">Penality:</li>\r\n        <li class="col-lg-2 list-group-item"><div> {{ penality.amount | currency:\'INR\': \'symbol-narrow\'}}</div></li>\r\n        <li class="col-lg-2  font-weight-bold list-group-item">Overdue Amount: </li>\r\n        <li class="col-lg-2 list-group-item" *ngIf="{amount: (cashflatting.remaining_amount + cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.006) || 0 } as overdue">\r\n         {{  (penality.amount >0 ? overdue.amount:0)  | currency:\'INR\': \'symbol-narrow\'  }}\r\n        </li>\r\n      </ul>\r\n    </div> \r\n  </div> \r\n</section>\r\n\x3c!-- End Loan Details --\x3e\r\n<section class="box-typical box-typical-padding"> \r\n  <h5>Loan History</h5>\r\n  <table id="liscustomers" class="display table table-bordered" cellspacing="0" width="100%">\r\n    <thead>\r\n      <tr> \r\n        <th>Loan Id</th>   \r\n        <th>Loan Amount</th>\r\n        <th>Apply Date</th> \r\n        <th>Disbursed Date</th>\r\n        <th>Days</th> \r\n        <th>Payable Date</th> \r\n        <th>Status</th>  \r\n        <th>Remarks</th>\r\n        <th>Remarker</th>\r\n        <th>Remark date</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor="let loanHistory of loanHistory" [attr.id]="loanHistory.id"> \r\n        <td>\r\n          <i class="fa fa-plus-circle m-2" title="View Payment history" style="cursor: pointer;" aria-hidden="true"  (click)="selected_loan_id=loanHistory.loan_id"></i>\r\n          {{loanHistory.loan_id}}\r\n        </td>\r\n        <td>{{loanHistory.required_amount | currency:\'INR\': \'symbol-narrow\'}}</td>\r\n        <td>{{loanHistory.apply_date}}</td>\r\n        <td *ngIf="loanHistory.disbursed_date">{{loanHistory.disbursed_date}}</td>\r\n        <td *ngIf="!loanHistory.disbursed_date">Null</td> \r\n        <td>{{loanHistory.days}}</td>\r\n        <td>{{loanHistory.payable_date}}</td>\r\n        <td *ngIf="loanHistory.status == 0">Pending</td>\r\n        <td *ngIf="loanHistory.status == 1">Approve</td>\r\n        <td *ngIf="loanHistory.status == 2">First Reject</td>\r\n        <td *ngIf="loanHistory.status == 3">Money Dispatch</td>\r\n        <td *ngIf="loanHistory.status == 4">Paid</td>\r\n        <td *ngIf="loanHistory.status == 5">Second Reject</td>\r\n        <td *ngIf="loanHistory.status == 6">Pending for Bank</td>\r\n        <td *ngIf="loanHistory.status == 7">Banned</td>\r\n        <td *ngIf="loanHistory.status == 8">Extend</td>\r\n        <td *ngIf="loanHistory.loanRemarks[0]">\r\n          {{ loanHistory.loanRemarks[0].remarks[0].remark}}\r\n        </td>\r\n        <td *ngIf="!loanHistory.loanRemarks[0]">\r\n          No Remark Yet\r\n        </td>  \r\n        <td *ngIf="loanHistory.loanRemarks[0]">\r\n          {{ loanHistory.loanRemarks[0].user.firstname }} {{ loanHistory.loanRemarks[0].user.lastname }}\r\n        </td>\r\n        <td *ngIf="!loanHistory.loanRemarks[0]">\r\n          No Remark Yet\r\n        </td>\r\n        <td *ngIf="loanHistory.loanRemarks[0]">\r\n          {{ loanHistory.loanRemarks[0].remarks[0].remark_submitted_date }}\r\n        </td>\r\n        <td *ngIf="!loanHistory.loanRemarks[0]">\r\n          No Remark Yet\r\n        </td> \r\n      </tr>\r\n    </tbody>\r\n  </table> \r\n</section>\r\n<repayment-history *ngIf="selected_loan_id" [loanId]="selected_loan_id" (close)="selected_loan_id=\'\'">\r\n</repayment-history>\r\n\x3c!-- Main content --\x3e \r\n<section class="box-typical box-typical-padding"> \r\n  <h5>Personal Details</h5>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Email </label>\r\n        <span class="form-control maxlength-simple">{{ cashflattings.email }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Mobile Number </label>\r\n        <span class="form-control maxlength-simple">{{ cashflattings.mobile_no }}</span>\r\n      </fieldset>\r\n    </div> \r\n  </div>\r\n</section>\r\n\x3c!-- /.content --\x3e\r\n\x3c!-- Basic Information Section --\x3e \r\n<section *ngIf="basic" class="box-typical box-typical-padding"> \r\n  <h5>Basic Information Details</h5>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Username: </label>\r\n        <span class="form-control maxlength-simple">{{ basic.username }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Gender </label>\r\n        <span class="form-control maxlength-simple">{{ basic.gender === 0 ? \'Male\' : \'Female\' }}</span>\r\n      </fieldset>\r\n    </div> \r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Father Name: </label>\r\n        <span class="form-control maxlength-simple">{{ basic.father_name }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Mother Name: </label>\r\n        <span class="form-control maxlength-simple">{{ basic.mother_name }}</span>\r\n      </fieldset>\r\n    </div> \r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Date of Birth: </label>\r\n        <span class="form-control maxlength-simple">{{ basic.date_of_birth }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Marital Status </label>\r\n        <span class="form-control maxlength-simple">{{ basic.marital_status === 0 ? \'Unmarried\' : \'Married\'}}</span>\r\n      </fieldset>\r\n    </div>  \r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">WhatsApp Number: </label>\r\n        <span class="form-control maxlength-simple">{{ basic.watsapp_num }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Highest Qualification: </label>\r\n        <span class="form-control maxlength-simple">{{ basic.highest_qualification }}</span>\r\n      </fieldset>\r\n    </div>   \r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Current Address: </label>\r\n        <textarea class="form-control" cols="10" rows="3" disabled>{{ basic.current_address }}</textarea> \r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Permanent Address: </label>\r\n        <textarea class="form-control" cols="10" rows="3" disabled>{{ basic.permanent_address }}</textarea> \r\n      </fieldset>\r\n    </div>  \r\n  </div>\r\n</section>\r\n\r\n\x3c!-- Employment Information Section --\x3e \r\n\r\n<section *ngIf="empInfo" class="box-typical box-typical-padding"> \r\n  <h5>Employment Information Details</h5>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Company Name: </label>\r\n        <span class="form-control maxlength-simple">{{ empInfo.company_name }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Designation: </label>\r\n        <span class="form-control maxlength-simple">{{ empInfo.designation }}</span>\r\n      </fieldset>\r\n    </div>\r\n  </div> \r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Date of join </label>\r\n        <span class="form-control maxlength-simple">{{ empInfo.date_of_join }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Company Type </label>\r\n        <span class="form-control maxlength-simple">{{ empInfo.industry_type }}</span>\r\n      </fieldset>\r\n    </div>\r\n  </div> \r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Company Address </label>\r\n        <span class="form-control maxlength-simple">{{ empInfo.office_address }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Pin Code </label>\r\n        <span class="form-control maxlength-simple">{{ empInfo.pin_code }}</span>\r\n      </fieldset>\r\n    </div>\r\n  </div> \r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Monthly Take Home </label>\r\n        <span class="form-control maxlength-simple">{{ empInfo.monthly_take_home }}</span>\r\n      </fieldset>\r\n    </div>  \r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Reason of Loan </label>\r\n        <span class="form-control maxlength-simple">{{ empInfo.reason_for_loan }}</span>\r\n      </fieldset>\r\n    </div>\r\n  </div> \r\n  <div class="row">\r\n    <div class="col-lg-3" *ngIf="empInfo.employment_proof">\r\n      <label class="semibold form-label" for="firstname">Employment Proof</label> \r\n      <div class="cont">\r\n        <a class="example-image-link" [href]="empInfo.employment_proof[0]" data-lightbox="adhaar-1" data-title="Employment Proof Image." ><img class="cont" [src]="empInfo.employment_proof[0]" alt="image-1" /></a>\r\n        <a [href]="empInfo.employment_proof[0]" [download]="empInfo.employment_proof[0]" target="_blank">\r\n          <div class="downloan-btn"><button class="btn btn-primary">Download Image</button></div> \r\n        </a> \r\n      </div>\r\n    </div>\r\n    <div class="col-lg-3" *ngIf="empInfo.sal_slip_first">\r\n      <label class="semibold form-label" for="email">Salary Slip </label>  \r\n      <div class="cont">\r\n        <a class="example-image-link" [href]="empInfo.sal_slip_first[0]" data-lightbox="adhaar-1" data-title="First Salary Slip Image." ><img class="cont" [src]="empInfo.sal_slip_first[0]" alt="image-1" /></a>\r\n        <a [href]="empInfo.sal_slip_first[0]" [download]="empInfo.sal_slip_first[0]" target="_blank">\r\n          <div class="downloan-btn"><button class="btn btn-primary">Download Image</button></div> \r\n        </a> \r\n      </div>\r\n    </div>\r\n    <div class="col-lg-3" *ngIf=" empInfo.sal_slip_second">\r\n      <label class="semibold form-label" for="email">Salary Image </label>\r\n      <div class="cont">\r\n        <a class="example-image-link" [href]="empInfo.sal_slip_second[0]" data-lightbox="adhaar-1" data-title="Second Salary Slip Image." ><img class="cont" [src]="empInfo.sal_slip_second[0]" alt="image-1" /></a>\r\n        <a [href]="empInfo.sal_slip_second[0]" [download]="empInfo.sal_slip_second[0]" target="_blank">\r\n          <div class="downloan-btn"><button class="btn btn-primary">Download Image</button></div> \r\n        </a> \r\n      </div>\r\n    </div>\r\n    <div class="col-lg-3" *ngIf=" empInfo.sal_slip_third">\r\n      <label class="semibold form-label" for="email">Salary Image </label>\r\n      <div class="cont">\r\n        <a class="example-image-link" [href]="empInfo.sal_slip_third[0]" data-lightbox="adhaar-1" data-title="Third Salary Slip Image." ><img class="cont" [src]="empInfo.sal_slip_third[0]" alt="image-1" /></a>\r\n        <a [href]="empInfo.sal_slip_third[0]" [download]="empInfo.sal_slip_third[0]" target="_blank">\r\n          <div class="downloan-btn"><button class="btn btn-primary">Download Image</button></div> \r\n        </a> \r\n      </div>\r\n    </div>\r\n  </div>\r\n</section> \r\n\x3c!-- Bank Details Section --\x3e\r\n<section *ngIf=" bankInfo" class="box-typical box-typical-padding"> \r\n  <h5>Bank Details</h5>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Account Name </label>\r\n        <span class="form-control maxlength-simple">{{ bankInfo.account_name }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Account Number </label>\r\n        <span class="form-control maxlength-simple">{{ bankInfo.account_no }}</span>\r\n      </fieldset>\r\n    </div> \r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Bank Name </label>\r\n        <span class="form-control maxlength-simple">{{ bankInfo.bank_name }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Branch </label>\r\n        <span class="form-control maxlength-simple">{{ bankInfo.branch }}</span>\r\n      </fieldset>\r\n    </div> \r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">IFSC Code </label>\r\n        <span class="form-control maxlength-simple">{{ bankInfo.ifsc_code }}</span>\r\n      </fieldset>\r\n    </div> \r\n  </div>\r\n</section>\r\n\x3c!-- KYC Details --\x3e\r\n<section *ngIf=" kycInfo" class="box-typical box-typical-padding"> \r\n  <h5>KYC Details</h5>\r\n  <div class="row">\r\n    <div class="col-lg-3">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Adhaar Number </label>\r\n        <span class="form-control maxlength-simple">{{ kycInfo.adhaar_no }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-3">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Adhaar Link Contact</label>\r\n        <span *ngIf="regMobNo" class="form-control maxlength-simple">*******{{ regMobNo }}</span>  \r\n        \x3c!-- <button [ngClass]="{\'adhaar_no\' : adharContact}" class="form-control btn btn-primary" (click)="viewAdhaarNo()">View Contact</button> --\x3e\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Pan Number </label>\r\n        <span class="form-control maxlength-simple">{{ kycInfo.pan_no }}</span>\r\n      </fieldset>\r\n    </div> \r\n  </div>\r\n  <div class="row"> \r\n    <div class="col-lg-3" *ngIf=" kycInfo.adhaar_front_image ">\r\n      <label class="semibold form-label" for="firstname">Adhaar Front Image </label> \r\n      <div class="cont">\r\n        <a class="example-image-link" [href]="kycInfo.adhaar_front_image" data-lightbox="adhaar-1" data-title="Adhaar Card Front Image." ><img class="cont" [src]="kycInfo.adhaar_front_image" alt="image-1" /></a>\r\n        <a [href]="kycInfo.adhaar_front_image" [download]="kycInfo.adhaar_front_image" target="_blank">\r\n          <div class="downloan-btn"><button class="btn btn-primary">Download Image</button></div> \r\n        </a> \r\n      </div>\r\n    </div> \r\n    <div class="col-lg-3" *ngIf=" kycInfo.adhaar_back_image ">\r\n      <label class="semibold form-label" for="firstname">Adhaar Back Image </label> \r\n      <div class="cont">\r\n        <a class="example-image-link" [href]="kycInfo.adhaar_back_image" data-lightbox="adhaar-1" data-title="Adhaar Card Back Image." ><img class="cont" [src]="kycInfo.adhaar_back_image" alt="image-1" /></a>\r\n        <a [href]="kycInfo.adhaar_back_image" [download]="kycInfo.adhaar_back_image" target="_blank">\r\n          <div class="downloan-btn"><button class="btn btn-primary">Download Image</button></div> \r\n        </a> \r\n      </div>\r\n    </div> \r\n    <div class="col-lg-3" *ngIf=" kycInfo.pan_card_image "> \r\n      <label class="semibold form-label" for="firstname">Pan Card Image </label>\r\n      <div class="cont">\r\n        <a class="example-image-link" [href]="kycInfo.pan_card_image" data-lightbox="adhaar-1" data-title="Pan Card Image." ><img class="cont" [src]="kycInfo.pan_card_image" alt="image-1" /></a>\r\n        <a [href]="kycInfo.pan_card_image" [download]="kycInfo.pan_card_image" target="_blank">\r\n          <div class="downloan-btn"><button class="btn btn-primary">Download Image</button></div> \r\n        </a> \r\n      </div> \r\n    </div> \r\n    <div class="col-lg-3" *ngIf=" kycInfo.selfee_image ">\r\n      <label class="semibold form-label" for="firstname">Selfee Image </label> \r\n      <div class="cont">\r\n        <a class="example-image-link" [href]="kycInfo.selfee_image" data-lightbox="adhaar-1" data-title="Selfee Image." ><img class="cont" [src]="kycInfo.selfee_image" alt="image-1" /></a>\r\n        <a [href]="kycInfo.selfee_image" [download]="kycInfo.selfee_image" target="_blank">\r\n          <div class="downloan-btn"><button class="btn btn-primary">Download Image</button></div> \r\n        </a> \r\n      </div> \r\n    </div>\r\n  </div> \r\n</section>\r\n\x3c!-- College Details --\x3e \r\n<section *ngIf="collegeDetail" class="box-typical box-typical-padding"> \r\n  <h5>College Details</h5>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">College Name</label>\r\n        <span class="form-control maxlength-simple">{{ collegeDetail.college_name }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Qualification </label>\r\n        <span class="form-control maxlength-simple">{{ collegeDetail.qualification }}</span>\r\n      </fieldset>\r\n    </div>  \r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-12">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Reason of Loan </label>\r\n        <span class="form-control maxlength-simple">{{ collegeDetail.reason_of_loan }}</span>\r\n      </fieldset>\r\n    </div>  \r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">College Address </label>\r\n        <span class="form-control maxlength-simple">{{ collegeDetail.college_address }}</span>\r\n      </fieldset>\r\n    </div>  \r\n    <div class="col-lg-6" *ngIf=" collegeDetail.college_id_image ">\r\n      <label class="semibold form-label" for="firstname">College Id Image </label> \r\n      <div class="cont">\r\n        <a class="example-image-link" [href]="collegeDetail.college_id_image[0]" data-lightbox="adhaar-1" data-title="College Id Image." ><img class="cont" [src]="collegeDetail.college_id_image[0]" alt="image-1" /></a>\r\n        <a [href]="collegeDetail.college_id_image[0]" [download]="collegeDetail.college_id_image[0]" target="_blank">\r\n          <div class="downloan-btn"><button class="btn btn-primary">Download Image</button></div> \r\n        </a> \r\n      </div>\r\n    </div> \r\n  </div>   \r\n</section>\r\n\x3c!-- Business Details --\x3e \r\n<section *ngIf="businessDetail" class="box-typical box-typical-padding"> \r\n  <h5>Business Details</h5>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Agreement Full Name</label>\r\n        <span class="form-control maxlength-simple">{{ businessDetail.agree_full_name }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Agreement Shop Name</label>\r\n        <span class="form-control maxlength-simple">{{ businessDetail.agree_shop_name }}</span>\r\n      </fieldset>\r\n    </div> \r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Shop Address </label>\r\n        <span class="form-control maxlength-simple">{{ businessDetail.shop_address }}</span>\r\n      </fieldset>\r\n    </div> \r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Reason of Loan </label>\r\n        <span class="form-control maxlength-simple">{{ businessDetail.reason_for_loan }}</span>\r\n      </fieldset>\r\n    </div> \r\n  </div> \r\n  <div class="row">\r\n    <div class="col-lg-4">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Daily Income </label>\r\n        <span class="form-control maxlength-simple">{{ businessDetail.daily_income }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-4">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Required Amount </label>\r\n        <span class="form-control maxlength-simple">{{ businessDetail.required_amount }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-4">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Days </label>\r\n        <span class="form-control maxlength-simple">{{ businessDetail.days }}</span>\r\n      </fieldset>\r\n    </div>  \r\n  </div> \r\n  <div class="row">\r\n    <div class="col-lg-3" *ngIf=" businessDetail.bank_statement_image ">\r\n      <label class="semibold form-label" for="firstname">Bank Statement Image </label> \r\n      <div class="cont">\r\n        <a class="example-image-link" [href]="businessDetail.bank_statement_image[0]" data-lightbox="adhaar-1" data-title="Bank Statement Image." ><img class="cont" [src]="businessDetail.bank_statement_image[0]" alt="image-1" /></a>\r\n        <a [href]="businessDetail.bank_statement_image[0]" [download]="businessDetail.bank_statement_image[0]" target="_blank">\r\n          <div class="downloan-btn"><button class="btn btn-primary">Download Image</button></div> \r\n        </a>  \r\n      </div>\r\n    </div>  \r\n    <div class="col-lg-3" *ngIf=" businessDetail.cheque_leaf_image ">\r\n      <label class="semibold form-label" for="firstname">Check Leaf Image </label> \r\n      <div class="cont">\r\n        <a class="example-image-link" [href]="businessDetail.cheque_leaf_image[0]" data-lightbox="adhaar-1" data-title="Check Leaf Image." ><img class="cont" [src]="businessDetail.cheque_leaf_image[0]" alt="image-1" /></a>\r\n        <a [href]="businessDetail.cheque_leaf_image[0]" [download]="businessDetail.cheque_leaf_image[0]" target="_blank">\r\n          <div class="downloan-btn"><button class="btn btn-primary">Download Image</button></div> \r\n        </a> \r\n      </div>\r\n    </div>   \r\n    <div class="col-lg-3" *ngIf=" businessDetail.shop_image ">\r\n      <label class="semibold form-label" for="firstname">Shop Image </label> \r\n      <div class="cont">\r\n        <a class="example-image-link" [href]="businessDetail.shop_image[0]" data-lightbox="adhaar-1" data-title="Shop Image." ><img class="cont" [src]="businessDetail.shop_image[0]" alt="image-1" /></a>\r\n        <a [href]="businessDetail.shop_image[0]" [download]="businessDetail.shop_image[0]" target="_blank">\r\n          <div class="downloan-btn"><button class="btn btn-primary">Download Image</button></div> \r\n        </a> \r\n      </div>\r\n    </div>\r\n    <div class="col-lg-3" *ngIf=" businessDetail.shop_agree_image ">\r\n      <label class="semibold form-label" for="firstname">Shop Agreement Image </label> \r\n      <div class="cont">\r\n        <a class="example-image-link" [href]="businessDetail.shop_agree_image[0]" data-lightbox="adhaar-1" data-title="Shop Agreement Image." ><img class="cont" [src]="businessDetail.shop_agree_image[0]" alt="image-1" /></a>\r\n        <a [href]="businessDetail.shop_agree_image[0]" [download]="businessDetail.shop_agree_image[0]" target="_blank">\r\n          <div class="downloan-btn"><button class="btn btn-primary">Download Image</button></div> \r\n        </a> \r\n      </div>\r\n    </div> \r\n  </div> \r\n</section> \r\n\x3c!-- Reference Details --\x3e\r\n<section class="box-typical box-typical-padding"> \r\n  <h5>Reference Details</h5>\r\n  <div class="row"> \r\n    <div class="col-lg-3" *ngIf=" refInfo">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Relation First </label>\r\n        <span class="form-control maxlength-simple">{{ refInfo.rel_first }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-3" *ngIf=" refInfo">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Mobile Number </label>\r\n        <span class="form-control maxlength-simple">{{ refInfo.number_first }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-3" *ngIf=" refInfo">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Relation Second </label>\r\n        <span class="form-control maxlength-simple">{{ refInfo.rel_second }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-3" *ngIf=" refInfo">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Mobile Number </label>\r\n        <span class="form-control maxlength-simple">{{ refInfo.number_second }}</span>\r\n      </fieldset>\r\n    </div> \r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-3" *ngIf=" refInfo">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Relation Third </label>\r\n        <span class="form-control maxlength-simple">{{ refInfo.rel_third }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-3" *ngIf=" refInfo">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Mobile Number </label>\r\n        <span class="form-control maxlength-simple">{{ refInfo.number_third }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-3" *ngIf=" refInfo">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Relation Fourth </label>\r\n        <span class="form-control maxlength-simple">{{ refInfo.rel_foruth }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-3" *ngIf=" refInfo">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Mobile Number </label>\r\n        <span class="form-control maxlength-simple">{{ refInfo.number_fourth }}</span>\r\n      </fieldset>\r\n    </div> \r\n  </div>\r\n</section>\r\n\x3c!-- end Reference Details --\x3e\r\n<section *ngIf="contactDetail?.length > 1 && per_missions.contact_per == true" class="box-typical box-typical-padding">\r\n  <h5>User Contact  [ {{ contactDetail?.length }} ]</h5> \r\n  <div class="row">\r\n    <div class="col-lg-6"> \r\n      <div class="table-wrapper-scroll-y my-custom-scrollbar">  \r\n        <table class="con_table"> \r\n          <thead class="con_thead"> \r\n            <tr class="con_tr">\r\n              <th>Name</th> \r\n              <th>Contact No</th> \r\n            </tr> \r\n          </thead> \r\n          <tbody class="con_tbody">\r\n            <tr *ngFor="let contact of contactDetail">      \r\n              <td>{{ contact.name }}</td>\r\n              <td>{{ contact.mobile_no }}</td>\r\n            </tr> \r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>  \r\n  </div> \r\n</section>\r\n\x3c!-- end Contact Details --\x3e\r\n<section *ngIf="appListDetails?.length > 1" class="box-typical box-typical-padding">\r\n  <h5>Application List [ {{appListDetails?.length}} ] </h5> \r\n  <div class="row">\r\n    <div class="col-lg-6"> \r\n      <div class="table-wrapper-scroll-y my-custom-scrollbar">  \r\n        <table class="con_table"> \r\n          <thead class="con_thead"> \r\n            <tr class="con_tr">\r\n              <th class="text-center">Application Name</th> \r\n            </tr> \r\n          </thead> \r\n          <tbody class="con_tbody">\r\n            <tr *ngFor="let appList of appListDetails">      \r\n              <td>{{ appList.app_list }}</td> \r\n            </tr>  \r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>  \r\n  </div> \r\n</section>\r\n\x3c!-- end AppList Details --\x3e\r\n\x3c!-- Reviewer Section --\x3e\r\n<section class="box-typical box-typical-padding" *ngIf="cashflatting"> \r\n  <h5>Reviewer Details</h5>\r\n  <div class="row"> \r\n    <div class="col-lg-12">\r\n      <ul class="list-group list-group-horizontal">\r\n        <li class="col-lg-3 font-weight-bold list-group-item">First Reviewer:</li>\r\n        <li class="col-lg-3 list-group-item"> \r\n            <div *ngFor="let user of users"> \r\n              <h5 style="font-weight: bold;" *ngIf="user.id == cashflatting.reviewer_1">{{user.firstname}} {{user.lastname}}</h5>\r\n            </div>  \r\n        </li>\r\n        <li class="col-lg-3 p-2 font-weight-bold list-group-item">Second Reviewer: </li>\r\n        <li class="col-lg-3 list-group-item" *ngIf="cashflatting.reviewer_2">\r\n          <div *ngFor="let user of users"> \r\n            <h5 style="font-weight: bold;" *ngIf="user.id == cashflatting.reviewer_2">{{user.firstname}} {{user.lastname}}</h5>\r\n          </div>\r\n        </li> \r\n        <li class="col-lg-3 list-group-item" *ngIf="!cashflatting.reviewer_2"> \r\n            <h5 style="font-weight: bold;">Not Assign</h5> \r\n        </li>\r\n      </ul>\r\n    </div> \r\n  </div> \r\n</section>\r\n\x3c!-- End Reviewer Section --\x3e'},Ru5Z:function(a,n){a.exports=".bg-header {\r\n\tbackground: #f6f8fa;\r\n}\r\n\r\n.trans-check-box{\r\n  width: 40px;\r\n}\r\n\r\n.trans-checkbox {\r\n   width: 20px;\r\n  height: 20px;\r\n}\r\n\r\n.scroller::-webkit-scrollbar {\r\n\t width: 5px !important;\r\n\t height: 5px !important;\r\n\t}\r\n\r\n.scroller::-webkit-scrollbar-thumb {\r\n\t  background: #afcb1f !important;\r\n}\r\n\r\n.payments-box {\r\n\tmax-height: 30vh;\r\n\toverflow-y: auto;\r\n}\r\n\r\n\r\n"},ujPh:function(a,n){a.exports='<header class="section-header">\r\n  <div class="tbl">\r\n    <div class="tbl-row">\r\n      <div class="tbl-cell">\r\n        <h3>Cash Flatting</h3>\r\n        <ol class="breadcrumb breadcrumb-simple">\r\n          <li><a [routerLink]="[\'/\']">Home</a></li>\r\n          <li class="active">Cash Flatting</li>\r\n        </ol> \r\n      </div>\r\n      <div style="margin-left: 10px;" class="tbl-cell ref-btn">\r\n        <button class="btn btn-primary" (click)="refresh()"><i class="fa fa-repeat"></i> Refresh</button> \r\n      </div>\r\n      <div class="tbl-cell ref-btn">\r\n        <button class="btn btn-success" (click)="payoutLinkGenerate(lpopup,data)"><i class="fa fa-link"></i> Generate Link</button> \r\n      </div>\r\n    </div>\r\n  </div>\r\n</header>\r\n<section class="box-typical box-typical-padding">\r\n  <h5>Search & Filter</h5>\r\n  <form name="form" (ngSubmit)="searchFlat(f.value)" #f="ngForm" novalidate>\r\n    <div class="row">\r\n      <div class="col-md-3">\r\n        <label for="loan_id">Loan Id</label>\r\n        <input type="number" class="form-control" #loanId name="loan_id" [(ngModel)]="searchcashflatting.loan_id" #loan_id="ngModel">\r\n      </div> \r\n      <div class="col-md-3">\r\n        <label for="mobile_no">Mobile Number</label>\r\n        <input type="number" class="form-control" name="mobile_no" [(ngModel)]="searchcashflatting.mobile_no" #mobile_no="ngModel">\r\n      </div> \r\n      <div class="col-md-3">\r\n        <label for="email">Email</label>\r\n        <input type="text" class="form-control" name="email" [(ngModel)]="searchcashflatting.email" #email="ngModel">\r\n      </div>\r\n      <div class="col-md-3">\r\n        <label for="name">Customer Name</label>\r\n        <input type="text" class="form-control" name="name" [(ngModel)]="searchcashflatting.name" #name="ngModel">\r\n      </div>\r\n    </div><br>\r\n    <div class="row">\r\n      <div class="col-md-3">\r\n        <label for="id_number">Adhaar Number</label>\r\n        <input type="number" class="form-control" name="id_number" [(ngModel)]="searchcashflatting.id_number" #id_number="ngModel">\r\n      </div>\r\n    </div>\r\n    <div class="row m-t-1">\r\n      <div class="col-md-2 search-button">\r\n        <button class="btn btn-primary" ><i class="fa fa-search"></i> Search</button>\r\n      </div>\r\n      <div class="col-md-2 search-button">\r\n        <span (click)="reset()" class="btn btn-warning" title="Reset Filter">Reset Filter</span> \r\n      </div>\r\n    </div>\r\n  </form>\r\n</section>\r\n\x3c!-- Main Content --\x3e\r\n<section class="box-typical box-typical-padding">\r\n  <table id="listcashflattings" class="display table table-bordered" cellspacing="0" width="100%">\r\n    <thead>\r\n      <tr> \r\n        <th>Loan Id</th>\r\n        <th>Name</th>\r\n        <th>Mobile No</th>\r\n        <th>Email</th> \r\n        <th>Apply Date</th> \r\n        <th>Disbursed Date</th> \r\n        <th>Payable Amount</th>\r\n        <th>Interest</th>\r\n        <th>Payable Date</th> \r\n        <th>Remaining Amount</th> \r\n        <th>Action</th>  \r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor="let cashflatting of cashflattings" [attr.id]="cashflatting.id"> \r\n        <td>\r\n          <a [routerLink]="[\'/cash_flatting/view/\' + cashflatting.loan_id + \'/\' + cashflatting.user_id]" target="_blank" title="View Customer Detail"> {{ cashflatting.loan_id }}</a> \r\n        </td>\r\n        <td>\r\n          {{ cashflatting.appUser.username }}\r\n        </td>\r\n        <td>\r\n          {{ cashflatting.appUser.mobile_no }}\r\n        </td>\r\n        <td>\r\n          {{ cashflatting.appUser.email }}\r\n        </td>\r\n        <td>\r\n          {{ cashflatting.apply_date | date: \'dd-MM-yyyy\' }}\r\n        </td>\r\n        <td>\r\n          {{ cashflatting.disbursed_date | date: \'dd-MM-yyyy\' }}\r\n        </td>\r\n        <td>\r\n          {{ cashflatting.remaining_amount }}\r\n        </td>\r\n        <td>\r\n          {{ cashflatting.remaining_amount - cashflatting.required_amount  }}\r\n        </td> \r\n        <td>\r\n          {{ cashflatting.payable_date | date: \'dd-MM-yyyy\' }}\r\n        </td>\r\n        <td>\r\n          {{ cashflatting.remaining_amount }}\r\n        </td> \r\n        <td>\r\n          <button class="btn btn-primary plus-popup mt-2 m_popup" (click)="flatPop(fpopup,data)">Flat</button>\r\n          <button class="btn btn-primary plus-popup mt-2 m_popup" (click)="flatEmiPop(fpopupemi,cashflatting.loan_id)">EMI Flat</button>\r\n          <button class="btn btn-primary plus-popup mt-2 m_popup" (click)="extend(epopup,data)">Extend</button>\r\n          <button class="btn btn-primary plus-popup mt-2 m_popup" (click)="customExtend(cpopup,data)">Custom Extend</button>\r\n          <button class="btn btn-danger plus-popup mt-2 mb-2 m_popup" (click)="filatPop(fipopup,cashflatting)">Ins Flat</button>\r\n          \x3c!-- Flat modal Popup --\x3e\r\n            <ng-template #fpopup let-modal>\r\n             <div class="modal-header modal-copy-header">\r\n                <h5 class="headerTitle m_header">Cash Flatting</h5>\r\n                <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(\'Cross click\')">\r\n                   <span aria-hidden="true">&times;</span>\r\n                </button>\r\n             </div>\r\n             <div class="modal-body">\r\n                <div class="config-popup">\r\n                  <form name="form" (ngSubmit)="f.form.valid && saveflat(f.value)" #f="ngForm" novalidate>\r\n                    <div class="col-sm-12">\r\n                      <div class="row">\r\n                        <div class="col-md-12"> \r\n                          <label for="order_amount" class="required semibold form-label">Customer Name: <b>{{ cashflatting.appUser.username }} </b></label>\r\n                        </div> \r\n                      </div>\r\n                      <div class="row">\r\n                        <div class="col-md-12"> \r\n                          <label for="order_amount" class="required semibold form-label">Loan ID: <b>{{ cashflatting.loan_id }}</b></label>\r\n                        </div> \r\n                      </div>\r\n                      <div class="row">\r\n                        <div class="col-md-12"> \r\n                          <label for="order_amount" class="required semibold form-label">Loan Amount: <b>{{ cashflatting.required_amount }}</b></label>\r\n                        </div>\r\n                      </div>\r\n                      <div class="row">\r\n                        <div class="col-md-12"> \r\n                          <label for="order_amount" class="required semibold form-label">Interest: <b>{{ cashflatting.remaining_amount - cashflatting.required_amount | number }}</b></label>\r\n                        </div>\r\n                      </div>\r\n                      <div class="row" *ngIf="calculateDiff(cashflatting.payable_date) > 0"> \r\n                        <div class="col-md-12" *ngIf="{ amount: calculateDiff(cashflatting.payable_date) > 0 ? cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.01  : 0 } as penality"> \r\n                          <label for="order_amount" class="required semibold form-label">Penality: <b>{{ penality.amount | number : \'1.2-2\' }}</b></label>\r\n                        </div>\r\n                      </div>\r\n                      <div class="row" *ngIf="calculateDiff(cashflatting.payable_date) > 0">\r\n                        <div class="col-md-12"> \r\n                          <label for="order_amount" class="required semibold form-label">Order Amount: <b>{{ cashflatting.remaining_amount + cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.01 }}</b></label>\r\n                        </div>\r\n                      </div>\r\n                      <div class="row">\r\n                        <div class="col-md-12"> \r\n                          <input type="hidden" name="loan_id" [(ngModel)]="cashflatting.loan_id" #id="ngModel">\r\n                          <div *ngIf="{ amount: calculateDiff(cashflatting.payable_date) > 0 ? cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.01  : 0 } as penality">\r\n                            <input type="hidden" name="penality" [(ngModel)]="penality.amount" #id="ngModel">\r\n                          </div>\r\n                          <input type="hidden" class="form-control" name="order_amount" [(ngModel)]="cashflatting.remaining_amount" #order_amount="ngModel"> \r\n                          <button class="btn btn-primary mt-2" [disabled]="submitted">Submit</button>\r\n                        </div> \r\n                      </div> \r\n                    </div> \r\n                  </form> \r\n                <div>  \r\n             </div>  \r\n            </div>\r\n          </div>\r\n          </ng-template>\r\n          <ng-template #fpopupemi let-modal>\r\n             <div class="modal-header modal-copy-header">\r\n                <h5 class="headerTitle m_header">Cash Flatting</h5>\r\n                <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(\'Cross click\')">\r\n                   <span aria-hidden="true">&times;</span>\r\n                </button>\r\n             </div>\r\n             <div class="modal-body">\r\n                <div class="config-popup">\r\n                  <form name="form" (ngSubmit)="f.form.valid && submitEmiTrans()" #f="ngForm" novalidate>\r\n                    <div class="col-sm-12">\r\n                      <div class="card">\r\n                        <div class="card-body">\r\n                      <div class="row">\r\n                        <div class="col-md-12"> \r\n                          <label for="order_amount" class="required semibold form-label">Customer Name: <b>{{ cashflatting.appUser.username }} </b></label>\r\n                        </div> \r\n                      </div>\r\n                      <div class="row">\r\n                        <div class="col-md-12"> \r\n                          <label for="order_amount" class="required semibold form-label">Loan ID: <b>{{ cashflatting.loan_id }}</b></label>\r\n                        </div> \r\n                      </div>\r\n                      <div class="row">\r\n                        <div class="col-md-12"> \r\n                          <label for="order_amount" class="required semibold form-label">Loan Amount: <b>{{ cashflatting.required_amount }}</b></label>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    </div>\r\n                    <div class="card scroller" style="height:250px; overflow: scroll;">\r\n                      <div class="card-header">\r\n                        Installments\r\n                      </div>\r\n                      <div class="card-body pl-0 pr-0">\r\n                        <div *ngIf="(cashflatting.emi | json) == \'{}\'" class="pl-3 pr-3">No Data Found</div>\r\n                        <div *ngFor="let d of cashflatting.emi|keyvalue:keyDescOrder">\r\n                           <label class="pl-5 " *ngIf="d.value.total_amount"><b>Outstanding</b></label>\r\n                          <hr class="m-1" *ngIf="d.value.total_amount"/>\r\n                          <div class="p-1 pl-5 pt-2" *ngIf="d.value.total_amount">\r\n                            <b>Total Installment to Pay</b>\r\n                            <b>: {{d.value.total_amount}}</b>\r\n                          </div>\r\n                          <div class="p-1 pl-5" *ngIf="d.value.total_amount">\r\n                            <b>Total Penality to Pay</b>\r\n                            <b>: {{(d.value.total_penality || 0)}}</b>\r\n                          </div>\r\n                          <div class="p-1" *ngIf="d.value.total_amount">\r\n                            <input type="checkbox" class="m-2 trans-checkbox" name="check-5" (change)="paymentSelection({key:\'total\',value:d.value.total_amount, penality: d.value.total_penality, date: d.key,checked:$event.target.checked, loan_id: cashflatting.loan_id, type:\'total\'})" [disabled]="checkOutStansingSlected()==\'inst\'">\r\n                            <b>Total Installment (Inc.pen) </b>\r\n                            <b>: {{((d.value.total_amount+d.value.total_penality) || 0)|number:\'1.2-2\'}}</b>\r\n                          </div>\r\n                          <hr *ngIf="d.value.total_amount"/>\r\n\r\n                          <div class="p-1 pl-5">Date<b>: {{d.key}}</b></div>\r\n                          <div class="p-1 pl-5">\r\n                            Installment Paid\r\n                            <b>: {{d.value.paid? \'Yes\': \'No\'}}</b>\r\n                          </div>\r\n                          <div class="p-1 pl-5">\r\n                            Installment\r\n                            <b>: {{d.value.amount}}</b>\r\n                          </div>\r\n                          <div class="p-1 pl-5">\r\n                            Penality due to delay\r\n                            <b>: {{d.value.penality}}</b>\r\n                          </div>\r\n                          <div class="p-1" [class]="d.value.paid? \'pl-5\':\'\'">\r\n                            <input type="checkbox" class="m-2 mt-0 trans-checkbox" name="check-3" (change)="paymentSelection({key:\'inst_total_\'+d.value.id,value: d.value.amount,penality: d.value.penality, date: d.key,checked:$event.target.checked, loan_id: cashflatting.loan_id, type:\'installment\'})" *ngIf="!d.value.paid" [disabled]="checkOutStansingSlected()==\'total\'">\r\n                            Installment total(Inc. Pen)\r\n                            <b>: {{(d.value.penality + d.value.amount)  | number : \'1.2-2\'}}</b>\r\n                          </div>\r\n                          <hr/>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                      <div class="row">\r\n                        <div class="col-md-12">\r\n                          <input class="form-control" type="text" name="amount_pay" [(ngModel)]="amtToPay"/> \r\n                          <button class="btn btn-primary mt-2" [disabled]="submitted">Submit</button>\r\n                        </div> \r\n                      </div> \r\n                    </div> \r\n                  </form> \r\n                <div>  \r\n             </div>  \r\n            </div>\r\n          </div>\r\n          </ng-template>\r\n          \x3c!-- Extend Model Popup --\x3e\r\n          <ng-template #epopup let-modal>\r\n            <div class="modal-header modal-copy-header">\r\n               <h5 class="headerTitle m_header">Loan Extend</h5>\r\n               <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(\'Cross click\')">\r\n                  <span aria-hidden="true">&times;</span>\r\n               </button>\r\n            </div>\r\n            <div class="modal-body">\r\n              <div class="config-popup">\r\n                <form name="form" (ngSubmit)="f.form.valid && saveExtend(f.value)" #f="ngForm" novalidate>\r\n                  <div class="col-sm-12">\r\n                    <div class="row">\r\n                      <div class="col-md-12"> \r\n                        <label for="order_amount" class="required semibold form-label">Customer Name: <b>{{ cashflatting.appUser.username }} </b></label>\r\n                      </div> \r\n                    </div>\r\n                    <div class="row">\r\n                      <div class="col-md-12"> \r\n                        <label for="order_amount" class="required semibold form-label">Loan ID: <b>{{ cashflatting.loan_id }}</b></label>\r\n                      </div> \r\n                    </div>\r\n                    \x3c!-- <div class="row">\r\n                      <div class="col-md-12"> \r\n                        <label for="order_amount" class="required semibold form-label">Loan Amount: <b>{{ cashflatting.required_amount }}</b></label>\r\n                      </div>\r\n                    </div>\r\n                    <div class="row">\r\n                      <div class="col-md-12"> \r\n                        <label for="order_amount" class="required semibold form-label">Interest: <b>{{ cashflatting.remaining_amount * 0.01 | number }}</b></label>\r\n                      </div>\r\n                    </div> --\x3e\r\n                    <div class="row" *ngIf="calculateDiff(cashflatting.payable_date) > 0">\r\n                      <div class="col-md-12" *ngIf="{ amount: calculateDiff(cashflatting.payable_date) > 0 ? cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.01  : 0 } as penality"> \r\n                        <label for="order_amount" class="required semibold form-label">Penality: <b>{{ penality.amount | number : \'1.2-2\' }}</b></label>\r\n                      </div>\r\n                    </div>\r\n                    <div class="row" *ngIf="calculateDiff(cashflatting.payable_date) > 0">\r\n                      <div class="col-md-12"> \r\n                        <label for="order_amount" class="required semibold form-label">Orders Amount: <b>{{ cashflatting.remaining_amount + cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.01 }}</b></label>\r\n                      </div>\r\n                    </div>\r\n                    <div class="row">\r\n                      <div class="col-md-12"> \r\n                        <input type="hidden" name="loan_id" [(ngModel)]="cashflatting.loan_id" #id="ngModel">\r\n                        <div class="form-group" *ngIf="{ amount: cashflatting.remaining_amount + cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.01 } as required" [ngClass]="{ \'has-error\': f.submitted && !required_amount.valid }">\r\n                          <label for="required_amount" class="required semibold form-label">Loan Amount:</label>\r\n                          <input type="text" class="form-control" name="required_amount" placeholder="Enter Amount" [(ngModel)]="required.amount" #required_amount="ngModel" readonly required>\r\n                          <div *ngIf="f.submitted && !required_amount.valid" class="help-block">Loan amount field is required</div>\r\n                        </div>\r\n                        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !ext_required_amount.valid}">\r\n                          <label for="ext_required_amount" class="required semibold form-label">Amount required for Extends:</label>\r\n                          <input type="text" class="form-control" name="ext_required_amount" placeholder="Enter Amount" [(ngModel)]="cashflatting.ext_required_amount" #ext_required_amount="ngModel" required>\r\n                          <div *ngIf="f.submitted && !ext_required_amount.valid" class="help-block">Extend amount field is required</div>\r\n                        </div> \r\n                        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !interest.valid}">\r\n                          <label for="interest" class="required semibold form-label">Interest Amount:</label>\r\n                          <input type="text" class="form-control" name="interest" placeholder="Enter Amount" [(ngModel)]="cashflatting.interest" #interest="ngModel" required>\r\n                          <div *ngIf="f.submitted && !interest.valid" class="help-block">Interest amount field is required</div>\r\n                        </div>\r\n                        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !ext_days.valid}">\r\n                          <label for="ext_days" class="required semibold form-label">Extend Days:</label>\r\n                          <input type="text" class="form-control" name="ext_days" placeholder="Enter Days" [(ngModel)]="cashflatting.ext_days" #ext_days="ngModel" required>\r\n                          <div *ngIf="f.submitted && !ext_days.valid" class="help-block">Extend Days field is required</div>\r\n                        </div>\r\n                        <div class="col-md-12"> \r\n                          <label for="order_amount" *ngIf="{ amount: cashflatting.remaining_amount + cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.01 } as required" class="required semibold form-label">Payable Amount: <b>{{(required.amount--cashflatting.interest)? required.amount--cashflatting.interest : required.amount }}</b></label>\r\n                        </div>\r\n                        <button class="btn btn-primary mt-2" [disabled]="submitted">Submit</button>\r\n                      </div> \r\n                    </div> \r\n                  </div> \r\n                </form> \r\n              <div>   \r\n            </div>  \r\n         </div>\r\n            </div>\r\n          </ng-template>\r\n          \x3c!-- Custom Extend Model Popup --\x3e\r\n          <ng-template #cpopup let-modal>\r\n            <div class="modal-header modal-copy-header">\r\n               <h5 class="headerTitle m_header">Custom Loan Extend</h5>\r\n               <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(\'Cross click\')">\r\n                  <span aria-hidden="true">&times;</span>\r\n               </button>\r\n            </div>\r\n            <div class="modal-body">\r\n              <div class="config-popup">\r\n                <form name="form" (ngSubmit)="f.form.valid && saveCustomExtend(f.value)" #f="ngForm" novalidate>\r\n                  <div class="col-sm-12">\r\n                    <div class="row">\r\n                      <div class="col-md-12"> \r\n                        <label for="order_amount" class="required semibold form-label">Customer Name: <b>{{ cashflatting.appUser.username }} </b></label>\r\n                      </div> \r\n                    </div>\r\n                    <div class="row">\r\n                      <div class="col-md-12"> \r\n                        <label for="order_amount" class="required semibold form-label">Loan ID: <b>{{ cashflatting.loan_id }}</b></label>\r\n                      </div> \r\n                    </div>\r\n                    \x3c!-- <div class="row">\r\n                      <div class="col-md-12"> \r\n                        <label for="order_amount" class="required semibold form-label">Loan Amount: <b>{{ cashflatting.required_amount }}</b></label>\r\n                      </div>\r\n                    </div>\r\n                    <div class="row">\r\n                      <div class="col-md-12"> \r\n                        <label for="order_amount" class="required semibold form-label">Interest: <b>{{ cashflatting.remaining_amount * 0.01 | number }}</b></label>\r\n                      </div>\r\n                    </div> --\x3e\r\n                    <div class="row" *ngIf="calculateDiff(cashflatting.payable_date) > 0">\r\n                      <div class="col-md-12" *ngIf="{ amount: calculateDiff(cashflatting.payable_date) > 0 ? cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.01  : 0 } as penality"> \r\n                        <label for="order_amount" class="required semibold form-label">Penality: <b>{{ penality.amount | number : \'1.2-2\' }}</b></label>\r\n                      </div>\r\n                    </div>\r\n                    <div class="row" *ngIf="calculateDiff(cashflatting.payable_date) > 0">\r\n                      <div class="col-md-12"> \r\n                        <label for="order_amount" class="required semibold form-label">Orders Amount: <b>{{ cashflatting.remaining_amount + cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.01 }}</b></label>\r\n                      </div>\r\n                    </div>\r\n                    <div class="row">\r\n                      <div class="col-md-12"> \r\n                        <input type="hidden" name="loan_id" [(ngModel)]="cashflatting.loan_id" #id="ngModel">\r\n                        <div class="form-group" *ngIf="{ amount: cashflatting.remaining_amount + cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.01 } as required" [ngClass]="{ \'has-error\': f.submitted && !required_amount.valid }">\r\n                          <label for="required_amount" class="required semibold form-label">Loan Amount:</label>\r\n                          <input type="text" class="form-control" name="required_amount" placeholder="Enter Amount" [(ngModel)]="required.amount" #required_amount="ngModel" readonly required>\r\n                          <div *ngIf="f.submitted && !required_amount.valid" class="help-block">Loan amount field is required</div>\r\n                        </div>\r\n                        <div class="form-group" >\r\n                          <label><input type="checkbox" checked (click)="toggleShow()" /> Amount required</label>\r\n                          \x3c!-- <label for="ext_required_amount" class="required semibold form-label">Amount required for Extends:</label> --\x3e\r\n                          \x3c!-- <input type="text" class="form-control" name="ext_required_amount" placeholder="Enter Amount" [(ngModel)]="cashflatting.ext_required_amount" #ext_required_amount="ngModel" required>\r\n                          <div *ngIf="f.submitted && !ext_required_amount.valid" class="help-block">Extend amount field is required</div> --\x3e\r\n                        </div>\r\n                        <div class="form-group"*ngIf="isShown" [ngClass]="{ \'has-error\': f.submitted && !penality_deduct.valid}">\r\n                          <label for="penality_deduct" class="required semibold form-label">Penality deduct Amount:</label>\r\n                          <input type="text" class="form-control" name="penality_deduct" placeholder="Enter Amount" [(ngModel)]="cashflatting.penality_deduct" #penality_deduct="ngModel" required>\r\n                          <div *ngIf="f.submitted && !penality_deduct.valid" class="help-block">Interest amount field is required</div>\r\n                        </div> \r\n                        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !partial_amount.valid}">\r\n                          <label for="partial_amount" class="required semibold form-label">Partial Amount:</label>\r\n                          <input type="text" class="form-control" name="partial_amount" placeholder="Enter Amount" [(ngModel)]="cashflatting.partial_amount" #partial_amount="ngModel" required>\r\n                          <div *ngIf="f.submitted && !partial_amount.valid" class="help-block">Partial amount field is required</div>\r\n                        </div>\r\n                        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !ext_days.valid}">\r\n                          <label for="ext_days" class="required semibold form-label">Extend Days:</label>\r\n                          <input type="text" class="form-control" name="ext_days" placeholder="Enter Days" [(ngModel)]="cashflatting.ext_days" #ext_days="ngModel" required>\r\n                          <div *ngIf="f.submitted && !ext_days.valid" class="help-block">Extend Days field is required</div>\r\n                        </div>\r\n                        <div class="col-md-12"> \r\n                          <label for="order_amount" *ngIf="{ amount: cashflatting.remaining_amount + cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.01 } as required" class="required semibold form-label">Payable Amount: <b>{{((required.amount-cashflatting.penality_deduct)? required.amount-cashflatting.penality_deduct  : required.amount) - ((cashflatting.partial_amount)? cashflatting.partial_amount : 0)}}</b></label>\r\n                        </div>\r\n                        <button class="btn btn-primary mt-2" [disabled]="submitted">Submit</button>\r\n                      </div> \r\n                    </div> \r\n                  </div> \r\n                </form> \r\n              <div>   \r\n            </div>  \r\n            </div>\r\n            </div>\r\n          </ng-template>\r\n          \x3c!-- Installment Flat modal Popup --\x3e\r\n          <ng-template #fipopup let-modal>\r\n            <div class="modal-header modal-copy-header">\r\n               <h5 class="headerTitle m_header">Cash Flatting in testing</h5>\r\n               <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(\'Cross click\')">\r\n                  <span aria-hidden="true">&times;</span>\r\n               </button>\r\n            </div>\r\n            <div class="modal-body">\r\n               <div class="config-popup">\r\n                 <form name="form" (ngSubmit)="f.form.valid && saveiflat(f.value, cashflatting)" #f="ngForm" novalidate>\r\n                   <div class="col-sm-12 p-0">\r\n                     <div class="card">\r\n                     <div class="card-header bg-header">Customer Info</div>\r\n                     <div class="card-body">\r\n                     <div class="row">\r\n                       <div class="col-md-12"> \r\n                         <label for="order_amount" class="required semibold form-label">Customer Name: <b>{{ cashflatting.appUser.username }} </b></label>\r\n                       </div> \r\n                     </div>\r\n                     <div class="row">\r\n                       <div class="col-md-12"> \r\n                         <label for="order_amount" class="required semibold form-label">Loan ID: <b>{{ cashflatting.loan_id }}</b></label>\r\n                       </div> \r\n                     </div>\r\n                     <div class="row">\r\n                       <div class="col-md-12"> \r\n                         <label for="order_amount" class="required semibold form-label">Loan Amount: <b>{{ cashflatting.required_amount }}</b></label>\r\n                       </div>\r\n                     </div>\r\n                     <div class="row">\r\n                       <div class="col-md-12"> \r\n                         <label for="order_amount" class="required semibold form-label">Remaining Amount: <b>{{ cashflatting.remaining_amount | number: \'1.2-2\' }}</b></label>\r\n                       </div>\r\n                     </div>\r\n                   </div>\r\n                   </div>\r\n                   <div>\r\n                     <div class="card" *ngIf="transactionDetails.length">\r\n                       <div class="card-header bg-header">\r\n                           <label>\r\n                            Payments\r\n                           </label>\r\n                       </div>\r\n                       <div  class="card-body scroller payments-box">\r\n                         <div *ngFor="let each of transactionDetails index as i" >\r\n                           <div class="d-flex">\r\n                           <div class="trans-check-box">\r\n                              <input *ngIf="!each.paid && i === 0"  \r\n                               [checked]="each.isSelected" \r\n                              type="checkbox" class="m-2 trans-checkbox" name="check" \r\n                              (change)="changeEvent(i, $event.target.checked)">\r\n                           </div>\r\n                           <div>\r\n                             <div class="p-1">\r\n                               Date: <b>{{each.forDate}}</b>\r\n                             </div>\r\n\r\n                             <div *ngIf="each.amountWithoutPenalty" class="p-1">Today\'s Amount: \r\n                               <b>{{each.amountWithoutPenalty}}</b>\r\n                             </div>\r\n\r\n                             <div *ngIf="each.penalty" class="p-1">Balance Amount : <b>{{each.penalty - each.penalityOnEMI}}</b>\r\n                             </div>\r\n\r\n                             <div *ngIf="each.penalityOnEMI" class="p-1">Penality on Payment Delay: <b>{{each.penalityOnEMI}}</b>\r\n                             </div>\r\n\r\n                             \r\n                             <div *ngIf="each.penaltyAmountAfterPaymentDate && i === 0 " class="p-1">Over Due Penality: \r\n                               <b>{{each.penaltyAmountAfterPaymentDate}}</b>\r\n                             </div>\r\n\r\n                             <div class="p-1"> \r\n                               {{each.paid? \'Paid Amount\': \'Amount to Pay\'}}: <b>{{each.amount + (each.penaltyAmountAfterPaymentDate || 0)}}</b>\r\n                             </div>\r\n\r\n                             <div class="p-1" *ngIf="each.penalityPaid"> \r\n                               Penality Paid: <b>{{(each.penalityPaid || 0) | number: \'1.2-2\'}}</b>\r\n                             </div>\r\n\r\n                             <div class="p-1">Status: \r\n                               <b [ngClass]="{\'text-success\': each.paid, \'text-danger\': !each.paid}">\r\n                               {{each.paid? \'Paid\': \'Non Paid\'}}</b>\r\n                             </div>\r\n\r\n                           </div>\r\n                           </div>\r\n\r\n                           <hr *ngIf="i !== transactionDetails.length-1"/>\r\n                         </div>\r\n                       </div>\r\n                     </div>\r\n                     <div class="row" *ngIf="transactionDetails.length">\r\n                        <div class="col-md-12">\r\n                          <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !order_amount.valid }">\r\n                           <label><b>Amount to pay</b></label>\r\n                           <input autocomplete="off" type="text" class="form-control"  name="order_amount" [(ngModel)]="payAmount"  placeholder="Amount to pay" pattern="^\\s*(?=.*[1-9])\\d*(?:\\.\\d{1,2})?\\s*$" required />\r\n                           <div *ngIf="f.submitted && !order_amount.valid" class="help-block">Amount to pay field is required</div>\r\n                         </div>\r\n                        </div>\r\n                     </div>\r\n                   </div>\r\n\r\n                   <div class="row">\r\n                       <div class="col-md-12"> \r\n                         <input type="hidden" name="loan_id" [(ngModel)]="cashflatting.loan_id" #id="ngModel">\r\n                         <div *ngIf="{ amount: calculateDiff(cashflatting.payable_date) > 0 ? cashflatting.remaining_amount * calculateDiff(cashflatting.payable_date) * 0.01  : 0 } as penality">\r\n                         </div>\r\n                         <input type="hidden" class="form-control" name="order_amount" [(ngModel)]="cashflatting.remaining_amount" #order_amount="ngModel"> \r\n                         <button class="btn btn-primary mt-2">Submit</button>\r\n                       </div> \r\n                     </div>\r\n                   </div> \r\n                 </form> \r\n               <div>  \r\n               </div>  \r\n            </div>\r\n            </div>\r\n         </ng-template>\r\n        </td>\r\n        \x3c!-- <td>\r\n          <div *ngFor="let stat_us of status">\r\n            <div *ngIf="stat_us.status_id==cashflatting.status">\r\n              {{ stat_us.status }}\r\n            </div>\r\n          </div>\r\n        </td>   --\x3e \r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  \x3c!--Payout Link Generation Model Popup --\x3e\r\n  <ng-template #lpopup let-modal>\r\n    <div class="modal-header modal-copy-header">\r\n       <h5 class="headerTitle m_header">Payment Link Generate</h5>\r\n       <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(\'Cross click\')">\r\n          <span aria-hidden="true">&times;</span>\r\n       </button>\r\n    </div>\r\n    <div class="modal-body">\r\n      <div class="config-popup">\r\n        <form name="form" (ngSubmit)="f.form.valid && getPaymentLink(f.value)" #f="ngForm" novalidate>\r\n          <div class="col-sm-12">\r\n            <div class="row">\r\n              <div class="col-md-12"> \r\n                <div class="form-group">\r\n                  <label for="loan_id" class="required semibold form-label">Loan Id: </label>\r\n                  <input type="text" class="form-control" name="loan_id" (input)="getLoanDetail($event.target.value)" placeholder="Enter Loan ID" [(ngModel)]="loanDetails.loan_id" #loan_id="ngModel" required>\r\n                  <div *ngIf="errorVal" class="help-block-error">{{ errorVal }}</div>\r\n                </div> \r\n              </div> \r\n            </div>\r\n            <div *ngIf="loanDetail" class="row">\r\n              <div class="col-md-12">\r\n                <div class="form-group">\r\n                  <label for="username" class="required semibold form-label">Customer Name: </label>\r\n                  <input type="text" class="form-control" name="username" placeholder="Enter User Name" [(ngModel)]="loanDetail.appUser.username" #username="ngModel" disabled required>\r\n                </div> \r\n              </div> \r\n            </div>\r\n            <div *ngIf="loanDetail" class="row">\r\n              <div class="col-md-12"> \r\n                <div class="form-group">\r\n                  <label for="total_payable_amount" class="required semibold form-label">Payable Amount: </label>\r\n                  <input type="text" class="form-control" name="total_payable_amount" placeholder="Enter Payable Amount" [(ngModel)]="loanDetail.total_payable_amount" #total_payable_amount="ngModel" required>\r\n                </div> \r\n              </div> \r\n            </div> \r\n            <div *ngIf="loanDetail" class="row">\r\n              <div class="col-md-12">  \r\n                <button class="btn btn-primary mt-2"><i class="fa fa-link"></i> Copy Link</button>\r\n              </div> \r\n            </div> \r\n          </div> \r\n        </form> \r\n      <div>   \r\n    </div>  \r\n    </div>\r\n    </div>\r\n  </ng-template>\r\n</section>'}}]);
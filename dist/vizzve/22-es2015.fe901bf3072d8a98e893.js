(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"/mq6":function(e,r){e.exports='<header class="section-header">\r\n  <div class="tbl">\r\n    <div class="tbl-row">\r\n      <div class="tbl-cell">\r\n        <h3>Users</h3>\r\n        <ol class="breadcrumb breadcrumb-simple">\r\n          <li><a [routerLink]="[\'/\']">Home</a></li>\r\n          <li class="active">Users</li>\r\n        </ol>\r\n        <div class="add-button pull-right">\r\n          <a [routerLink]="[\'/users/add/\']" class="btn btn-inline btn-primary btn-sm" title="Add">Add User</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</header>\r\n<section class="box-typical box-typical-padding">\r\n  <h5>Search & Filter</h5>\r\n  <form name="form" (ngSubmit)="search(f.value)" #f="ngForm" novalidate>\r\n    <div class="row">\r\n      <div class="col-md-3">\r\n        <label for="name">Name</label>\r\n        <input type="text" class="form-control" name="name" [(ngModel)]="searchUsers.name" #name="ngModel">\r\n      </div>  \r\n      <div class="col-md-3">\r\n        <label for="email">Email</label>\r\n        <input type="text" class="form-control" name="email" [(ngModel)]="searchUsers.email" #email="ngModel">\r\n      </div>   \r\n      <div class="col-md-3">\r\n        <label for="mobile_no">Mobile No</label>\r\n        <input type="text" class="form-control" name="mobile_no" [(ngModel)]="searchUsers.mobile_no" #mobile_no="ngModel">\r\n      </div> \r\n      <div class="col-md-3">\r\n        <label for="user_type">User Type</label>\r\n        <select class="form-control" name="user_type" [(ngModel)]="searchUsers.user_type" #user_type="ngModel" required>\r\n          <option disabled>select-type</option>\r\n          <option *ngFor="let user of userCategory" [value]="user.user_type">{{user.category}}</option>\r\n        </select>\r\n      </div>\r\n    </div><br>\r\n    <div class="row"> \r\n      <div class="col-md-3">\r\n        <label for="user_role">User Role</label>\r\n        <select class="form-control" name="user_role" [(ngModel)]="searchUsers.user_role" #user_role="ngModel" required>\r\n          <option disabled>select-type</option>\r\n          <option *ngFor="let user of userSubCategory" [value]="user.id">{{user.name}}</option>\r\n        </select>\r\n      </div> \r\n      <div class="col-md-3">\r\n        <label for="user_status">User Status</label>\r\n        <select class="form-control" name="user_status" [(ngModel)]="searchUsers.user_status" #user_status="ngModel" required>\r\n          <option disabled>select-type</option>\r\n          <option *ngFor="let status of userStatus" [value]="status.id">{{status.name}}</option>\r\n        </select>\r\n      </div>  \r\n    </div>\r\n    <div class="row m-t-1">\r\n      <div class="col-md-2 search-button">\r\n        <button class="btn btn-primary"><i class="fa fa-search"></i> Search</button>\r\n      </div> \r\n      <div class="col-md-2 search-button">\r\n        <span (click)="reset()" class="btn btn-warning" title="Reset Filter">Reset Filter</span> \r\n      </div> \r\n    </div>\r\n  </form>\r\n</section>\r\n\x3c!-- Main Content --\x3e\r\n<section class="box-typical box-typical-padding">\r\n  <table id="lisusers" class="display table table-bordered" cellspacing="0" width="100%">\r\n    <thead>\r\n      <tr> \r\n        \x3c!-- <th>Id</th> --\x3e\r\n        <th>Firstname</th>\r\n        <th>Lastname</th>\r\n        <th>Email</th>\r\n        <th>Mobile No</th> \r\n        <th>Role</th>\r\n        <th>Contact Show<br>(Yes/No)</th>\r\n        <th>Active<br>(Yes/No)</th>\r\n        <th>Action</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor="let user of users" [attr.id]="user.id">\r\n        \x3c!-- <td>\r\n          {{ user.id }}\r\n        </td> --\x3e\r\n        <td>\r\n          {{ user.firstname }}\r\n        </td>\r\n        <td>\r\n          {{ user.lastname }}\r\n        </td>\r\n        <td>\r\n          {{ user.email }}\r\n        </td>\r\n        <td>\r\n          {{ user.mobile_no }}\r\n        </td>\r\n        <td>\r\n          {{ user.adminSubCategory.name }}\r\n        </td>\r\n        <td class="text-center">\r\n          <div class="checkbox-toggle">\r\n            <input type="checkbox" id="check-toggle-{{ user.id }}-contact_per" [(ngModel)]="user.contact_per"\r\n              onclick="return confirm(\'Are you sure, you want to change contact list for this user ?\');"\r\n              (change)="changeContactList(user,\'contact_per\')">\r\n            <label for="check-toggle-{{ user.id }}-contact_per"></label>\r\n          </div>\r\n        </td>\r\n        <td class="text-center">\r\n          <div class="checkbox-toggle">\r\n            <input type="checkbox" id="check-toggle-{{ user.id }}-active" [(ngModel)]="user.active"\r\n              onclick="return confirm(\'Are you sure, you want to change active of this user ?\');"\r\n              (change)="changeStatus(user,\'active\')">\r\n            <label for="check-toggle-{{ user.id }}-active"></label>\r\n          </div>\r\n        </td>\r\n\r\n        <td class="text-center">\r\n          <a [routerLink]="[\'/users/view/\' + user.id]" class="btn btn-inline btn-primary btn-sm" title="View Customer Detail"><i class="fa fa-search"></i></a>\r\n                \r\n          <a [routerLink]="[\'/users/edit/\' + user.id]" class="btn btn-inline btn-primary btn-sm" title="Edit"><i class="fa fa-pencil"></i></a>\r\n           \r\n          <span class="btn btn-inline btn-danger btn-sm" title="Delete Customer" (click)="deleteUser(user.id)"><i class="fa fa-trash"></i></span>\r\n            \r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</section>'},"1NfT":function(e,r){e.exports='<header class="section-header">\r\n    <div class="tbl">\r\n        <div class="tbl-row">\r\n            <div class="tbl-cell">\r\n                <h3>Users</h3>\r\n                <ol class="breadcrumb breadcrumb-simple">\r\n                    <li><a [routerLink]="[\'/\']">Home</a></li>\r\n                    <li><a [routerLink]="[\'/users\']">Users</a></li>\r\n                    <li class="active">Add</li>\r\n                </ol>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</header>\r\n\x3c!-- Main content --\x3e\r\n<section class="box-typical box-typical-padding">\r\n    <form name="form" (ngSubmit)="f.form.valid && save(f.value)" #f="ngForm" novalidate>\r\n        <div class="row m-t-3">\r\n            <div class="col-sm-12">\r\n                <div class="row">\r\n                    <div class="col-md-6">\r\n                        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !firstname.valid}">\r\n                            <label for="firstname" class="required semibold form-label">FirstName</label>\r\n                            <input type="text" class="form-control" name="firstname" [(ngModel)]="user.firstname" #firstname="ngModel" required>\r\n                            <div *ngIf="f.submitted && !firstname.valid" class="help-block">FirstName is required</div>\r\n                        </div>\r\n                    </div> \r\n                    <div class="col-md-6">\r\n                        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !lastname.valid}">\r\n                            <label for="lastname" class="required semibold form-label">LastName</label>\r\n                            <input type="text" class="form-control" name="lastname" [(ngModel)]="user.lastname" #lastname="ngModel" required>\r\n                            <div *ngIf="f.submitted && !lastname.valid" class="help-block">LastName is required</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col-md-6">\r\n                        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !email.valid}">\r\n                            <label for="email" class="required semibold form-label">Email</label>\r\n                            <input type="text" class="form-control" name="email" [(ngModel)]="user.email" #email="ngModel" required>\r\n                            <div *ngIf="f.submitted && !email.valid" class="help-block">Email is required</div>\r\n                        </div>\r\n                    </div> \r\n                    <div class="col-md-6">\r\n                        <div class="form-group" [ngClass]="{\'has-error\': f.submitted && !password.valid}">\r\n                            <label for="password" class="required semibold form-label">Password</label>\r\n                            <input type="password" class="form-control" name="password" [(ngModel)]="user.password" #password="ngModel" required>\r\n                            <div *ngIf="f.submitted && !password.valid" class="help-block">Password is required</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col-md-6">\r\n                        <div class="form-group" [ngClass]="{\'has-error\': f.submitted && !profile_image.valid}">\r\n                            <label for="profile_image" class="required semibold form-label">Profile Image</label>\r\n                            <input type="file" class="form-control" name="profile_image" [(ngModel)]="user.profile_image" #profile_image="ngModel" (change)="selectImage($event)" required>\r\n                            <div *ngIf="f.submitted && !profile_image.valid" class="help-block">Upload an Image</div>\r\n                        </div>\r\n                    </div> \r\n                    <div class="col-md-6">\r\n                        <div class="form-group" [ngClass]="{\'has-error\': f.submitted && !mobile_no.valid}">\r\n                            <label for="mobile_no" class="required semibold form-label">Mobile</label>\r\n                            <input type="text" class="form-control" name="mobile_no" [(ngModel)]="user.mobile_no" #mobile_no="ngModel" required>\r\n                            <div *ngIf="f.submitted && !mobile_no.valid" class="help-block">Please Enter a Mobile Number</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="row">\r\n                    \x3c!-- <div class="col-md-6">\r\n                        <div class="form-group">\r\n                            <div class="checkbox-toggle">\r\n                                <label for="is_admin" class="semibold form-label">Is admin</label>\r\n                                <input type="checkbox" id="check-toggle-admin" name="is_admin" [(ngModel)]="user.is_admin">\r\n                                <label for="check-toggle-admin"></label>\r\n                            </div>\r\n                        </div>\r\n                    </div> --\x3e\r\n                    <div class="col-md-6">\r\n                        <div class="form-group">\r\n                            <div class="checkbox-toggle">\r\n                                <label for="active" class="semibold form-label">Active</label>\r\n                                <input type="checkbox" id="check-toggle-active" name="active" [(ngModel)]="user.active">\r\n                                <label for="check-toggle-active"></label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col-md-6">\r\n                        <div class="form-group" [ngClass]="{\'has-error\': f.submitted && !user_type.valid}"> \r\n                            <label for="active" class="required semibold form-label">Category</label>\r\n                            <select class="form-control" name="user_type" [(ngModel)]="user.user_type" #user_type="ngModel" required (change)="onChangeCategory($event.target.value)">\r\n                                <option disabled [ngValue]="null">Select-Category</option>\r\n                                <option *ngFor="let user_category of userCategory" [ngValue]="user_category.user_type">{{user_category.category}}</option>\r\n                            </select>\r\n                            <div *ngIf="f.submitted && !user_type.valid" class="help-block">Please select a category</div> \r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-6">\r\n                        <div class="form-group">\r\n                            <div class="checkbox-toggle" [ngClass]="{\'has-error\': f.submitted && !has_role.valid}">\r\n                                <label for="active" class="required semibold form-label">Sub category</label>\r\n                                <select class="form-control" name="has_role" [(ngModel)]="user.has_role" #has_role="ngModel" required>\r\n                                    <option disabled [ngValue]="null">Select-Subcategory</option>\r\n                                    <option *ngFor="let user_sub_category of userSubCategory" [ngValue]="user_sub_category.id">{{user_sub_category.name}}</option>\r\n                                </select>\r\n                                <div *ngIf="f.submitted && !has_role.valid" class="help-block">Please select a sub category</div> \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="col-md-12 align-middle">\r\n                <div class="form-group">\r\n                    <button class="btn btn-primary" style="margin-right: 10px;">Save</button>\r\n                    <a class="btn btn-primary" [routerLink]="[\'/users\']">Cancel</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</section>'},ILEI:function(e,r){e.exports='<header class="section-header">\r\n  <div class="tbl">\r\n    <div class="tbl-row">\r\n      <div class="column1">\r\n        <div class="tbl-cell">\r\n          <h3>Users</h3>\r\n          <ol class="breadcrumb breadcrumb-simple">\r\n            <li><a [routerLink]="[\'/\']">Home</a></li>\r\n            <li><a [routerLink]="[\'//users\']">Users</a></li>\r\n            <li class="active">Edit</li>\r\n          </ol>\r\n        </div>\r\n      </div>\r\n      <div class="column2">\r\n        <div *ngIf="user.profile_image" class="tbl-cell"> \r\n          <img [src]="user.profile_image[0]" alt="Mountains" class="prof_imgs">\r\n          <h6>Profile Image</h6>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</header>\r\n\x3c!-- Main content --\x3e\r\n\r\n<section class="box-typical box-typical-padding">\r\n  <form name="form" (ngSubmit)="f.form.valid && save()" #f="ngForm" enctype="multipart/form-data" novalidate>\r\n    <input type="hidden" name="id" [(ngModel)]="user.id" #id="ngModel">\r\n    <div class="row">\r\n      <div class="col-sm-12">\r\n        <div class="row">\r\n          <div class="col-md-6">\r\n            <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !firstname.valid}">\r\n              <label for="firstname" class="required semibold form-label">FirstName</label>\r\n              <input type="text" class="form-control" name="firstname" [(ngModel)]="user.firstname" #firstname="ngModel"\r\n                required>\r\n              <div *ngIf="f.submitted && !firstname.valid" class="help-block">FirstName is required</div>\r\n            </div>\r\n          </div> \r\n          <div class="col-sm-6">\r\n            <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !lastname.valid}">\r\n              <label for="lastname" class="required semibold form-label">LastName</label>\r\n              <input type="text" class="form-control" name="lastname" [(ngModel)]="user.lastname" #lastname="ngModel"\r\n                required>\r\n              <div *ngIf="f.submitted && !lastname.valid" class="help-block">LastName is required</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="row">\r\n          <div class="col-sm-6">\r\n            <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !email.valid}">\r\n              <label for="email" class="required semibold form-label">Email</label>\r\n              <input type="text" class="form-control" name="email" [(ngModel)]="user.email" #email="ngModel" required>\r\n              <div *ngIf="f.submitted && !email.valid" class="help-block">Email is required</div>\r\n            </div>\r\n          </div> \r\n          <div class="col-sm-6">\r\n            <div class="form-group" >\r\n              <label for="profile_image" class="required semibold form-label">Profile Image</label>\r\n              <input type="file" class="form-control" name="profile_image" #profile_image (change)="selectImage($event)"> \r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="row">\r\n          <div class="col-sm-6">\r\n            <div class="form-group" [ngClass]="{\'has-error\': f.submitted && !mobile_no.valid}">\r\n              <label for="mobile_no" class="required semibold form-label">Mobile</label>\r\n              <input type="text" class="form-control" name="mobile_no" [(ngModel)]="user.mobile_no" #mobile_no="ngModel"\r\n                required>\r\n              <div *ngIf="f.submitted && !mobile_no.valid" class="help-block">Please Enter a Mobile Number</div>\r\n            </div>\r\n          </div>  \r\n          <div class="col-md-3">\r\n            <div class="form-group">\r\n              <div class="checkbox-toggle">\r\n                <label for="active" class="semibold form-label">Active</label>\r\n                <input type="checkbox" id="check-toggle-active" name="active" [(ngModel)]="user.active">\r\n                <label for="check-toggle-active"></label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="row">\r\n          <div class="col-md-6">\r\n              <div class="form-group" [ngClass]="{\'has-error\': f.submitted && !user_type.valid}"> \r\n                  <label for="active" class="required semibold form-label">Category</label>\r\n                  <select class="form-control" name="user_type" [(ngModel)]="user.user_type" #user_type="ngModel" required (change)="onChangeCategory($event.target.value)">\r\n                      <option disabled [ngValue]="null">Select-Category</option>\r\n                      <option *ngFor="let user_category of userCategory" [ngValue]="user_category.user_type">{{user_category.category}}</option>\r\n                  </select>\r\n                  <div *ngIf="f.submitted && !user_type.valid" class="help-block">Please select a category</div> \r\n              </div>\r\n          </div>\r\n          <div class="col-md-6">\r\n              <div class="form-group">\r\n                  <div class="checkbox-toggle" [ngClass]="{\'has-error\': f.submitted && !has_role.valid}">\r\n                      <label for="active" class="required semibold form-label">Sub category</label>\r\n                      <select class="form-control" name="has_role" [(ngModel)]="user.has_role" #has_role="ngModel" required>\r\n                          <option disabled [ngValue]="null">Select-Subcategory</option>\r\n                          <option *ngFor="let user_sub_category of userSubCategory" [ngValue]="user_sub_category.id" [selected]="user_sub_category.id === has_role">{{user_sub_category.name}}</option>\r\n                      </select>\r\n                      <div *ngIf="f.submitted && !has_role.valid" class="help-block">Please select a sub category</div> \r\n                  </div>\r\n              </div>\r\n          </div> \r\n        </div>\r\n        <div class="row">\r\n          <div class="col-md-6">\r\n            <div class="form-group">\r\n                <label for="password" class="required semibold form-label">Password</label>\r\n                <input type="password" class="form-control" name="password" [(ngModel)]="user.password" #password="ngModel"> \r\n            </div>\r\n        </div>\r\n        </div>\r\n        <div class="col-md-12 align-middle">\r\n          <div class="form-group">\r\n            <button class="btn btn-primary" style="margin-right: 10px;">Save</button>\r\n            <a class="btn btn-primary" [routerLink]="[\'/users\']">Cancel</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</section>'},PO3U:function(e,r,s){"use strict";s.r(r);var t=s("mrSG"),a=s("8Y7J"),l=s("SVse"),n=s("s7LF"),i=s("iInd"),o=s("IheW"),c=s("LRne"),d=s("vkgz"),u=s("JIr8"),m=s("AytR"),b=s("3AtW");let p=class{constructor(e,r){this.http=e,this.alertService=r,this.requestUrl=m.a.requestUrl+"/admin/user",this.httpOptions={headers:new o.d({"content-Type":"application/json;charset=UTF-8"})}}getUsers(){return this.http.get(this.requestUrl+"/all").pipe(Object(d.a)(e=>{this.handleResponse(e)}),Object(u.a)(this.handleError("User")))}getUser(e){return this.http.get(this.requestUrl+"/"+e,this.httpOptions).pipe(Object(d.a)(e=>{this.handleResponse(e)}),Object(u.a)(this.handleError("User")))}getUserView(e){return this.http.get(this.requestUrl+"/"+e,this.httpOptions).pipe(Object(d.a)(e=>{this.handleResponse(e)}),Object(u.a)(this.handleError("User")))}changeStatus(e,r,s){return this.http.post(this.requestUrl+"/status",{status:e,user_id:r,key:s},this.httpOptions).pipe(Object(d.a)(e=>{this.handleResponse(e)}),Object(u.a)(this.handleError("User")))}changeContactListPermission(e,r,s){return this.http.post(this.requestUrl+"/contact_list_permission",{status:e,user_id:r,key:s},this.httpOptions).pipe(Object(d.a)(e=>{this.handleResponse(e)}),Object(u.a)(this.handleError("User")))}saveUser(e){return this.http.post(this.requestUrl+"/save_user",e).pipe(Object(d.a)(e=>{this.handleResponse(e)}),Object(u.a)(this.handleError("User")))}searchLoan(e){const{name:r,email:s,mobile_no:t,user_type:a,user_role:l,user_status:n}=e;return this.http.get(this.requestUrl+"/search/users?name="+r+"&email="+s+"&mobile_no="+t+"&user_type="+a+"&user_role="+l+"&user_status="+n).pipe(Object(d.a)(e=>{this.handleResponse(e)}),Object(u.a)(this.handleError("User")))}deleteUser(e){return this.http.post(this.requestUrl+"/delete",{user_id:e},this.httpOptions).pipe(Object(d.a)(e=>{this.handleResponse(e)}),Object(u.a)(this.handleError("User")))}getUserCategory(){return this.http.get(m.a.requestUrl+"/api/category/all").pipe(Object(d.a)(e=>{this.handleResponse(e)}),Object(u.a)(this.handleError("User")))}getAllUserSubCategory(){return this.http.get(m.a.requestUrl+"/api/subcategory/all").pipe(Object(d.a)(e=>{this.handleResponse(e)}),Object(u.a)(this.handleError("User")))}getUserSubCategory(e){return this.http.get(m.a.requestUrl+"/api/allSubCategory/"+e,this.httpOptions).pipe(Object(d.a)(e=>{this.handleResponse(e)}),Object(u.a)(this.handleError("User")))}getUserRole(){return this.http.get(m.a.requestUrl+"/api/get_roles/",this.httpOptions).pipe(Object(d.a)(e=>{this.handleResponse(e)}),Object(u.a)(this.handleError("User")))}handleResponse(e){return e.error?this.alertService.warn("Failed: "+e.message):this.alertService.success("Success:"+e.message),e}handleError(e="operation",r){return s=>(this.alertService.error(`${e} failed: ${s.message}`),Object(c.a)(r))}};p.ctorParameters=()=>[{type:o.b},{type:b.a}],p=t.a([Object(a.C)()],p);var g=s("EApP"),v=s("cUpR");let h=class{constructor(e,r,s,t){this.router=e,this.userService=r,this.toastr=s,this.titleService=t,this.titleService.setTitle("Add Users")}ngOnInit(){this.user={id:null,firstname:"",lastname:"",email:"",mobile_no:"",password:"",repeatPassword:"",reset_password_token:"",profile_image:"",user_type:null,has_role:null,active:null,message:"",data:this.user,length:""},this.userService.getUserCategory().subscribe(e=>{e&&(this.userCategory=e.data)})}onChangeCategory(e){e?this.userService.getUserSubCategory(e).subscribe(e=>{this.userSubCategory=e.data}):this.userSubCategory=null}selectImage(e){if(e.target.files.length>0){const r=e.target.files[0];this.profile_image=r}}save(e){var r=new FormData;r.append("firstname",e.firstname),r.append("lastname",e.lastname),r.append("email",e.email),r.append("password",e.password),r.append("mobile_no",e.mobile_no),r.append("profile_image",this.profile_image),r.append("user_type",e.user_type),r.append("has_role",e.has_role),r.append("active",!0===e.active?"1":"0"),this.userService.saveUser(r).subscribe(e=>{this.router.navigate(["/users"]),this.toastr.success(e.message,"Success")},e=>{console.log(e)})}};h.ctorParameters=()=>[{type:i.f},{type:p},{type:g.b},{type:v.c}],h=t.a([Object(a.n)({selector:"add-user",template:s("1NfT")})],h);let f=class{constructor(e,r,s,t,a){this.route=e,this.router=r,this.userService=s,this.toastr=t,this.titleService=a,this.searchUsers={name:"",mobile_no:"",email:"",user_type:"",user_role:"",active_user:""},this.userStatus=[{id:0,name:"In-Active"},{id:1,name:"Active"}],this.titleService.setTitle("List Users")}ngOnInit(){let e=this,r=this.route.snapshot.data.users;r&&(e.users=r.data),this.userService.getUserCategory().subscribe(e=>{e&&(this.userCategory=e.data)}),this.userService.getUserRole().subscribe(e=>{this.userSubCategory=e.data}),$((function(){$("#lisusers").DataTable({responsive:!0,order:[]})}))}changeStatus(e,r){let s=!!e[r];this.userService.changeStatus(s,e.id,r).subscribe(e=>{this.toastr.success(e.message,"Success")})}changeContactList(e,r){let s=!!e[r];console.log("UserID",e.id),console.log("KEY",r),console.log("Status",s),this.userService.changeContactListPermission(s,e.id,r).subscribe(e=>{this.toastr.success(e.message,"Success")})}deleteUser(e){var r=[];confirm("Do you really want to delete this user")&&this.userService.deleteUser(e).subscribe(s=>{s.error||(r=this.users,this.users=r.filter(r=>r.id!==e),this.router.navigate(["/users"]),this.toastr.success(s.message,"Success"))})}search(e){this.userService.searchLoan(e).subscribe(e=>{(void 0===e||e.data.length<1)&&this.toastr.error("Record not found.","Error"),e.data&&(this.users=e.data)},e=>{console.log(e)})}reset(){let e=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([e])}};f.ctorParameters=()=>[{type:i.a},{type:i.f},{type:p},{type:g.b},{type:v.c}],f=t.a([Object(a.n)({selector:"list-user",template:s("/mq6")})],f);let y=class{constructor(e,r,s,t,a){this.router=e,this.route=r,this.userService=s,this.toastr=t,this.titleService=a,this.titleService.setTitle("Edit Users")}ngOnInit(){let e=this,r=this.route.snapshot.data.user;r&&(e.user=r.data[0],this.has_role=parseInt(e.user.has_role)),this.userService.getUserCategory().subscribe(e=>{e&&(this.userCategory=e.data)}),this.userService.getUserSubCategory(this.user.user_type).subscribe(e=>{e&&(this.userSubCategory=e.data)})}selectImage(e){if(e.target.files.length>0){const r=e.target.files[0];this.profile_image=r}}onChangeCategory(e){e?this.userService.getUserSubCategory(e).subscribe(e=>{this.userSubCategory=e.data}):this.userSubCategory=null}save(){var e=this.user,r=new FormData;r.append("id",e.id),r.append("firstname",e.firstname),r.append("lastname",e.lastname),r.append("email",e.email),r.append("password",e.password),r.append("mobile_no",e.mobile_no),r.append("profile_image",this.profile_image),r.append("user_type",e.user_type),r.append("has_role",e.has_role),r.append("active",!0===e.active?"1":"0"),this.userService.saveUser(r).subscribe(e=>{this.toastr.success(e.message,"Success"),this.router.navigate(["/users"])},e=>{console.log(e)})}};y.ctorParameters=()=>[{type:i.f},{type:i.a},{type:p},{type:g.b},{type:v.c}],y=t.a([Object(a.n)({selector:"edit-user",template:s("ILEI")})],y);let _=class{constructor(e,r,s){this.route=e,this.userService=r,this.titleService=s,this.titleService.setTitle("View Users")}ngOnInit(){this.user=this.route.snapshot.data.user.data[0],this.userService.getUserCategory().subscribe(e=>{e&&(this.userCategory=e.data)}),this.userService.getAllUserSubCategory().subscribe(e=>{e&&(this.userSubCategory=e.data)})}};_.ctorParameters=()=>[{type:i.a},{type:p},{type:v.c}],_=t.a([Object(a.n)({selector:"view-user",template:s("XaCR")})],_);var S=s("eg8S");let U=class{constructor(e){this.userService=e}resolve(){return this.userService.getUsers()}};U.ctorParameters=()=>[{type:p}],U=t.a([Object(a.C)()],U);let C=class{constructor(e){this.userService=e}resolve(e){return this.userService.getUser(e.paramMap.get("user_id"))}};C.ctorParameters=()=>[{type:p}],C=t.a([Object(a.C)()],C);let w=class{constructor(e){this.userService=e}resolve(e){return this.userService.getUserView(e.paramMap.get("user_id"))}};w.ctorParameters=()=>[{type:p}],w=t.a([Object(a.C)()],w);const x=[{path:"",component:f,resolve:{users:U}},{path:"edit/:user_id",component:y,resolve:{user:C}},{path:"add",component:h},{path:"view/:user_id",component:_,resolve:{user:w}}];let M=class{};M=t.a([Object(a.K)({imports:[i.g.forChild(x)],exports:[i.g]})],M),s.d(r,"UserModule",(function(){return k}));let k=class{};k=t.a([Object(a.K)({imports:[l.b,n.a,M],providers:[p,S.a,U,C,w],declarations:[f,y,h,_]})],k)},XaCR:function(e,r){e.exports='<header class="section-header">\r\n  <div class="tbl">\r\n    <div class="tbl-row">\r\n      <div class="column1">\r\n        <div class="tbl-cell">\r\n          <h3>User Details</h3>\r\n          <ol class="breadcrumb breadcrumb-simple">\r\n            <li><a [routerLink]="[\'/\']">Home</a></li>\r\n            <li><a [routerLink]="[\'//users\']">Users</a></li>\r\n            <li class="active">User Details</li>\r\n          </ol>\r\n        </div>\r\n      </div>\r\n      <div class="column2">\r\n        <div *ngIf="user.profile_image" class="tbl-cell"> \r\n          <img [src]="user.profile_image[0]" alt="Mountains" class="prof_imgs">\r\n          <h6>Profile Image</h6>\r\n        </div>\r\n      </div> \r\n    </div>\r\n  </div>\r\n</header>\r\n\x3c!-- Main content --\x3e\r\n<section class="box-typical box-typical-padding"> \r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">First Name </label>\r\n        <span class="form-control maxlength-simple">{{ user.firstname }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="lastname">Last Name </label>\r\n        <span class="form-control maxlength-simple">{{ user.lastname }}</span>\r\n      </fieldset>\r\n    </div> \r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Email </label>\r\n        <span class="form-control maxlength-simple">{{ user.email }}</span>\r\n      </fieldset>\r\n    </div>\r\n    <div class="col-lg-6">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Mobile Number </label>\r\n        <span class="form-control maxlength-simple">{{ user.mobile_no }}</span>\r\n      </fieldset>\r\n    </div> \r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-4">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="firstname">Status </label>\r\n        <span class="form-control maxlength-simple">{{ user.active == false ?"Inactive": "Active" }}</span>\r\n      </fieldset>\r\n    </div> \r\n    \x3c!-- <div class="col-lg-4">\r\n      <fieldset class="form-group">\r\n        <label class="semibold form-label" for="email">Category </label>\r\n        <span class="form-control maxlength-simple" *ngFor="let user_category of userCategory" >{{ user.user_type == 0 ? "Admin": "User" }}</span>\r\n      </fieldset>\r\n    </div> --\x3e\r\n    <div class="col-lg-4"> \r\n      <label class="semibold form-label" for="category">Category</label>\r\n      <select class="form-control" disabled> \r\n        <option *ngFor="let user_category of userCategory" [selected]="user_category.user_type==user.user_type">{{user_category.category}}</option>\r\n      </select> \r\n    </div>\r\n    <div class="col-lg-4"> \r\n      <label class="semibold form-label" for="category">Sub Category</label>\r\n      <select class="form-control" disabled> \r\n        <option *ngFor="let user_sub_category of userSubCategory" [selected]="user_sub_category.id == user.has_role">{{user_sub_category.name}}</option>\r\n      </select> \r\n    </div>\r\n  </div> \r\n</section>'}}]);